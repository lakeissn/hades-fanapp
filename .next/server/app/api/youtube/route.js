"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/youtube/route";
exports.ids = ["app/api/youtube/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fyoutube%2Froute&page=%2Fapi%2Fyoutube%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fyoutube%2Froute.ts&appDir=C%3A%5Chades-fanapp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Chades-fanapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fyoutube%2Froute&page=%2Fapi%2Fyoutube%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fyoutube%2Froute.ts&appDir=C%3A%5Chades-fanapp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Chades-fanapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_hades_fanapp_app_api_youtube_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/youtube/route.ts */ \"(rsc)/./app/api/youtube/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/youtube/route\",\n        pathname: \"/api/youtube\",\n        filename: \"route\",\n        bundlePath: \"app/api/youtube/route\"\n    },\n    resolvedPagePath: \"C:\\\\hades-fanapp\\\\app\\\\api\\\\youtube\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_hades_fanapp_app_api_youtube_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/youtube/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ5b3V0dWJlJTJGcm91dGUmcGFnZT0lMkZhcGklMkZ5b3V0dWJlJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGeW91dHViZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDaGFkZXMtZmFuYXBwJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDaGFkZXMtZmFuYXBwJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNIO0FBQzFFO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFkZXMtZmFuYXBwLz83ODhjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXGhhZGVzLWZhbmFwcFxcXFxhcHBcXFxcYXBpXFxcXHlvdXR1YmVcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3lvdXR1YmUvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS95b3V0dWJlXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS95b3V0dWJlL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcaGFkZXMtZmFuYXBwXFxcXGFwcFxcXFxhcGlcXFxceW91dHViZVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkveW91dHViZS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fyoutube%2Froute&page=%2Fapi%2Fyoutube%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fyoutube%2Froute.ts&appDir=C%3A%5Chades-fanapp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Chades-fanapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/youtube/route.ts":
/*!**********************************!*\
  !*** ./app/api/youtube/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\nconst CHANNEL_URL = \"https://www.youtube.com/@HADES_offi\";\nconst COMMON_HEADERS = {\n    \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\",\n    \"Accept-Language\": \"ko-KR,ko;q=0.9\"\n};\nlet cached = null;\nfunction extractVideoId(text) {\n    const match = text.match(/\\/watch\\?v=([a-zA-Z0-9_-]{11})/);\n    return match?.[1] ?? null;\n}\nfunction extractLatestVideoId(text) {\n    const rendererIds = [];\n    const rendererPatterns = [\n        /\"gridVideoRenderer\"\\s*:\\s*\\{[\\s\\S]{0,120}?\"videoId\"\\s*:\\s*\"([a-zA-Z0-9_-]{11})\"/g,\n        /\"videoRenderer\"\\s*:\\s*\\{[\\s\\S]{0,120}?\"videoId\"\\s*:\\s*\"([a-zA-Z0-9_-]{11})\"/g\n    ];\n    for (const pattern of rendererPatterns){\n        for (const match of text.matchAll(pattern)){\n            const id = match[1];\n            if (id) rendererIds.push(id);\n        }\n        if (rendererIds.length > 0) break;\n    }\n    if (rendererIds.length > 0) {\n        return Array.from(new Set(rendererIds))[0] ?? null;\n    }\n    return extractVideoId(text);\n}\nfunction extractShortsId(text) {\n    const candidates = [];\n    // Shorts 탭에서 최신 순 정렬이 잘 반영되는 renderer 우선 탐색\n    const rendererPatterns = [\n        /\"reelItemRenderer\"\\s*:\\s*\\{[\\s\\S]{0,180}?\"videoId\"\\s*:\\s*\"([a-zA-Z0-9_-]{11})\"/g,\n        /\"richItemRenderer\"\\s*:\\s*\\{[\\s\\S]{0,300}?\"videoId\"\\s*:\\s*\"([a-zA-Z0-9_-]{11})\"/g\n    ];\n    for (const pattern of rendererPatterns){\n        for (const match of text.matchAll(pattern)){\n            const id = match[1];\n            if (id) candidates.push(id);\n        }\n        if (candidates.length > 0) {\n            return Array.from(new Set(candidates))[0] ?? null;\n        }\n    }\n    // 폴백: /shorts/ID 링크를 모두 수집 후 첫 ID 사용\n    for (const match of text.matchAll(/\\/shorts\\/([a-zA-Z0-9_-]{11})/g)){\n        const id = match[1];\n        if (id) candidates.push(id);\n    }\n    return Array.from(new Set(candidates))[0] ?? null;\n}\nfunction decodeUnicode(str) {\n    return str.replace(/\\\\u([0-9a-fA-F]{4})/g, (_, hex)=>String.fromCharCode(parseInt(hex, 16))).replace(/\\\\\"/g, '\"').replace(/\\\\n/g, \" \");\n}\n/**\r\n * 유효한 제목인지 검증\r\n * - \"닫기\", 순수 타임스탬프, 빈 문자열 등은 제외\r\n */ function isValidTitle(title) {\n    if (!title || title.trim().length < 2) return false;\n    const t = title.trim();\n    // \"닫기\" (Shorts 페이지의 close 버튼 텍스트)\n    if (t === \"닫기\" || t === \"Close\") return false;\n    // 순수 타임스탬프 패턴 (예: \"0:00\", \"1:23:45\", \"00:30\")\n    if (/^\\d{1,2}(:\\d{2}){1,2}$/.test(t)) return false;\n    // 타임스탬프 + 슬래시 패턴 (예: \"0:00 / 3:45\")\n    if (/^\\d{1,2}(:\\d{2}){1,2}\\s*\\/\\s*\\d{1,2}(:\\d{2}){1,2}$/.test(t)) return false;\n    // YouTube UI 관련 텍스트\n    const uiTexts = [\n        \"YouTube\",\n        \"구독\",\n        \"좋아요\",\n        \"싫어요\",\n        \"공유\",\n        \"저장\",\n        \"Subscribe\",\n        \"Like\",\n        \"Dislike\",\n        \"Share\",\n        \"Save\",\n        \"더보기\",\n        \"간략히\",\n        \"Show more\",\n        \"Show less\",\n        \"댓글\",\n        \"Comments\"\n    ];\n    if (uiTexts.includes(t)) return false;\n    return true;\n}\n/**\r\n * 개선된 제목 추출 - 여러 패턴을 시도하여 실제 영상 제목을 확실히 가져옴\r\n * Shorts의 \"닫기\" 문제 및 Video의 타임스탬프 문제를 방지\r\n */ function extractTitle(html, videoId) {\n    const candidates = [];\n    // 1) videoId 주변에서 title 추출 (가장 신뢰도 높음)\n    const idx = html.indexOf(`\"videoId\":\"${videoId}\"`);\n    if (idx !== -1) {\n        // videoId 뒤쪽 탐색\n        const chunk = html.substring(idx, Math.min(idx + 1200, html.length));\n        // runs 형식: \"title\":{\"runs\":[{\"text\":\"...\"}]}\n        const runsMatch = chunk.match(/\"title\"\\s*:\\s*\\{\\s*\"runs\"\\s*:\\s*\\[\\s*\\{\\s*\"text\"\\s*:\\s*\"([^\"]+)\"/);\n        if (runsMatch?.[1]) {\n            const t = decodeUnicode(runsMatch[1]);\n            if (isValidTitle(t)) candidates.push(t);\n        }\n        // simpleText 형식: \"title\":{\"simpleText\":\"...\"}\n        const simpleMatch = chunk.match(/\"title\"\\s*:\\s*\\{\\s*\"simpleText\"\\s*:\\s*\"([^\"]+)\"/);\n        if (simpleMatch?.[1]) {\n            const t = decodeUnicode(simpleMatch[1]);\n            if (isValidTitle(t)) candidates.push(t);\n        }\n        // 이미 유효한 제목을 찾았으면 반환\n        if (candidates.length > 0) return candidates[0];\n        // videoId 앞쪽에서도 탐색 (제목이 videoId보다 먼저 올 수 있음)\n        if (idx > 300) {\n            const beforeChunk = html.substring(Math.max(0, idx - 600), idx + 100);\n            const beforeRuns = beforeChunk.match(/\"title\"\\s*:\\s*\\{\\s*\"runs\"\\s*:\\s*\\[\\s*\\{\\s*\"text\"\\s*:\\s*\"([^\"]+)\"/);\n            if (beforeRuns?.[1]) {\n                const t = decodeUnicode(beforeRuns[1]);\n                if (isValidTitle(t)) candidates.push(t);\n            }\n            const beforeSimple = beforeChunk.match(/\"title\"\\s*:\\s*\\{\\s*\"simpleText\"\\s*:\\s*\"([^\"]+)\"/);\n            if (beforeSimple?.[1]) {\n                const t = decodeUnicode(beforeSimple[1]);\n                if (isValidTitle(t)) candidates.push(t);\n            }\n        }\n    }\n    if (candidates.length > 0) return candidates[0];\n    // 2) gridVideoRenderer / reelItemRenderer 기반 탐색 (채널 페이지에서 렌더링되는 형태)\n    // videoId를 포함하는 renderer 블록을 찾고, 그 안에서 title 추출\n    const rendererPatterns = [\n        new RegExp(`\"gridVideoRenderer\"\\\\s*:\\\\s*\\\\{[^}]*?\"videoId\"\\\\s*:\\\\s*\"${videoId}\"[\\\\s\\\\S]{0,800}?\"title\"\\\\s*:\\\\s*\\\\{\\\\s*(?:\"runs\"\\\\s*:\\\\s*\\\\[\\\\s*\\\\{\\\\s*\"text\"\\\\s*:\\\\s*\"([^\"]+)\"|\"simpleText\"\\\\s*:\\\\s*\"([^\"]+)\")`, \"m\"),\n        new RegExp(`\"reelItemRenderer\"\\\\s*:\\\\s*\\\\{[^}]*?\"videoId\"\\\\s*:\\\\s*\"${videoId}\"[\\\\s\\\\S]{0,800}?\"headline\"\\\\s*:\\\\s*\\\\{\\\\s*\"simpleText\"\\\\s*:\\\\s*\"([^\"]+)\"`, \"m\"),\n        new RegExp(`\"videoId\"\\\\s*:\\\\s*\"${videoId}\"[\\\\s\\\\S]{0,1000}?\"headline\"\\\\s*:\\\\s*\\\\{\\\\s*\"simpleText\"\\\\s*:\\\\s*\"([^\"]+)\"`, \"m\")\n    ];\n    for (const pattern of rendererPatterns){\n        const match = html.match(pattern);\n        if (match) {\n            const t = decodeUnicode(match[1] || match[2] || match[3] || \"\");\n            if (isValidTitle(t)) return t;\n        }\n    }\n    // 3) accessibilityData에서 label 추출\n    const accessPatterns = [\n        new RegExp(`\"videoId\"\\\\s*:\\\\s*\"${videoId}\"[\\\\s\\\\S]{0,2000}?\"accessibilityData\"\\\\s*:\\\\s*\\\\{\\\\s*\"label\"\\\\s*:\\\\s*\"([^\"]+)\"`, \"m\"),\n        new RegExp(`\"accessibilityData\"\\\\s*:\\\\s*\\\\{\\\\s*\"label\"\\\\s*:\\\\s*\"([^\"]*${videoId}[^\"]*)\"`, \"m\")\n    ];\n    for (const pattern of accessPatterns){\n        const match = html.match(pattern);\n        if (match?.[1]) {\n            const label = decodeUnicode(match[1]);\n            // label은 보통 \"제목 by 채널 N views N ago\" 형태 → 맨 앞 부분 사용\n            // 또는 \"제목 - 재생 시간: N분 N초\" 형태\n            let title = label;\n            const byIndex = label.lastIndexOf(\" by \");\n            if (byIndex > 0) title = label.substring(0, byIndex).trim();\n            // 재생 시간 부분 제거\n            title = title.replace(/\\s*-\\s*재생 시간:.*$/, \"\").trim();\n            title = title.replace(/\\s*-\\s*play length.*$/i, \"\").trim();\n            if (isValidTitle(title)) return title;\n        }\n    }\n    // 4) og:title 메타 태그 (개별 영상 페이지인 경우)\n    const ogTitle = html.match(/<meta[^>]+property=[\"']og:title[\"'][^>]+content=[\"']([^\"']+)[\"']/i) ?? html.match(/<meta[^>]+content=[\"']([^\"']+)[\"'][^>]+property=[\"']og:title[\"']/i);\n    if (ogTitle?.[1]) {\n        const t = decodeUnicode(ogTitle[1]).trim();\n        if (t && !t.includes(\"YouTube\") && !t.includes(\"@\") && isValidTitle(t)) return t;\n    }\n    // 5) <title> 태그\n    const titleTag = html.match(/<title[^>]*>([^<]+)<\\/title>/i);\n    if (titleTag?.[1]) {\n        const t = titleTag[1].replace(/\\s*-\\s*YouTube\\s*$/i, \"\").trim();\n        if (isValidTitle(t) && !t.includes(\"@\")) return t;\n    }\n    return \"\";\n}\n/**\r\n * Shorts 전용 제목 추출 - 채널 shorts 탭 HTML에서 reelItemRenderer 기반으로 추출\r\n * 일반 extractTitle과 달리 Shorts 특유의 JSON 구조(headline, overlayMetadata 등)를 우선 탐색\r\n */ function extractShortsTitle(html, shortsId) {\n    const candidates = [];\n    // shortsId가 HTML에서 등장하는 모든 위치를 탐색\n    // YouTube Shorts 채널 탭에서는 \"videoId\":\"ID\" 외에도 \"/shorts/ID\" 형태로 등장\n    const searchPatterns = [\n        `\"${shortsId}\"`,\n        `\\\\/shorts\\\\/${shortsId}`\n    ];\n    for (const searchStr of searchPatterns){\n        let searchIdx = 0;\n        const plainStr = searchStr.replace(/\\\\\\\\/g, \"/\");\n        while(true){\n            const idIdx = html.indexOf(plainStr.includes(\"/shorts/\") ? `/shorts/${shortsId}` : `\"${shortsId}\"`, searchIdx);\n            if (idIdx === -1) break;\n            searchIdx = idIdx + 1;\n            // ID 주변 앞뒤 2500자 범위에서 탐색\n            const start = Math.max(0, idIdx - 1500);\n            const end = Math.min(html.length, idIdx + 2500);\n            const chunk = html.substring(start, end);\n            // headline.simpleText 패턴 (reelItemRenderer에서 가장 흔함)\n            const headlineSimple = chunk.match(/\"headline\"\\s*:\\s*\\{\\s*\"simpleText\"\\s*:\\s*\"([^\"]+)\"/);\n            if (headlineSimple?.[1]) {\n                const t = decodeUnicode(headlineSimple[1]);\n                if (isValidTitle(t)) candidates.push(t);\n            }\n            // headline.runs 패턴\n            const headlineRuns = chunk.match(/\"headline\"\\s*:\\s*\\{\\s*\"runs\"\\s*:\\s*\\[\\s*\\{\\s*\"text\"\\s*:\\s*\"([^\"]+)\"/);\n            if (headlineRuns?.[1]) {\n                const t = decodeUnicode(headlineRuns[1]);\n                if (isValidTitle(t)) candidates.push(t);\n            }\n            // overlayMetadata.primaryText.content 패턴\n            const overlayPrimary = chunk.match(/\"primaryText\"\\s*:\\s*\\{\\s*\"content\"\\s*:\\s*\"([^\"]+)\"/);\n            if (overlayPrimary?.[1]) {\n                const t = decodeUnicode(overlayPrimary[1]);\n                if (isValidTitle(t)) candidates.push(t);\n            }\n            // title.runs 패턴\n            const titleRuns = chunk.match(/\"title\"\\s*:\\s*\\{\\s*\"runs\"\\s*:\\s*\\[\\s*\\{\\s*\"text\"\\s*:\\s*\"([^\"]+)\"/);\n            if (titleRuns?.[1]) {\n                const t = decodeUnicode(titleRuns[1]);\n                if (isValidTitle(t)) candidates.push(t);\n            }\n            // title.simpleText 패턴\n            const titleSimple = chunk.match(/\"title\"\\s*:\\s*\\{\\s*\"simpleText\"\\s*:\\s*\"([^\"]+)\"/);\n            if (titleSimple?.[1]) {\n                const t = decodeUnicode(titleSimple[1]);\n                if (isValidTitle(t)) candidates.push(t);\n            }\n            if (candidates.length > 0) return candidates[0];\n        }\n    }\n    if (candidates.length > 0) return candidates[0];\n    // accessibilityData.label에서 추출\n    const accessPatterns = [\n        new RegExp(`\"${shortsId}\"[\\\\s\\\\S]{0,3000}?\"accessibilityData\"\\\\s*:\\\\s*\\\\{\\\\s*\"label\"\\\\s*:\\\\s*\"([^\"]+)\"`, \"m\"),\n        new RegExp(`\"accessibilityData\"\\\\s*:\\\\s*\\\\{\\\\s*\"label\"\\\\s*:\\\\s*\"([^\"]*${shortsId}[^\"]*)\"`, \"m\")\n    ];\n    for (const pattern of accessPatterns){\n        const match = html.match(pattern);\n        if (match?.[1]) {\n            const label = decodeUnicode(match[1]);\n            let title = label;\n            // \" - \" 이후 제거 (조회수 등)\n            const dashIdx = title.indexOf(\" - \");\n            if (dashIdx > 0) title = title.substring(0, dashIdx).trim();\n            // 마지막 \", N views\" 패턴 제거\n            title = title.replace(/,\\s*\\d[\\d,.]*\\s*(views?|조회|회).*$/i, \"\").trim();\n            if (isValidTitle(title)) return title;\n        }\n    }\n    // 일반 extractTitle로 폴백\n    return extractTitle(html, shortsId);\n}\n/**\r\n * 개별 Shorts 페이지에서 제목 직접 가져오기 (채널 페이지에서 실패 시 폴백)\r\n */ async function fetchShortsTitleDirect(shortsId) {\n    try {\n        const res = await fetch(`https://www.youtube.com/shorts/${shortsId}`, {\n            headers: COMMON_HEADERS,\n            cache: \"no-store\"\n        });\n        const html = await res.text();\n        // 1) og:title (가장 신뢰도 높음)\n        const ogTitle = html.match(/<meta[^>]+property=[\"']og:title[\"'][^>]+content=[\"']([^\"']+)[\"']/i) ?? html.match(/<meta[^>]+content=[\"']([^\"']+)[\"'][^>]+property=[\"']og:title[\"']/i);\n        if (ogTitle?.[1]) {\n            const t = decodeUnicode(ogTitle[1]).trim();\n            if (isValidTitle(t) && !t.includes(\"YouTube\") && !t.includes(\"@\")) return t;\n        }\n        // 2) <title> 태그\n        const titleTag = html.match(/<title[^>]*>([^<]+)<\\/title>/i);\n        if (titleTag?.[1]) {\n            const t = titleTag[1].replace(/\\s*-\\s*YouTube\\s*$/i, \"\").trim();\n            if (isValidTitle(t) && !t.includes(\"@\")) return t;\n        }\n        // 3) JSON 내 title.runs\n        const jsonTitle = html.match(/\"title\"\\s*:\\s*\\{\\s*\"runs\"\\s*:\\s*\\[\\s*\\{\\s*\"text\"\\s*:\\s*\"([^\"]+)\"/);\n        if (jsonTitle?.[1]) {\n            const t = decodeUnicode(jsonTitle[1]);\n            if (isValidTitle(t)) return t;\n        }\n        // 4) JSON 내 title.simpleText\n        const jsonSimple = html.match(/\"title\"\\s*:\\s*\\{\\s*\"simpleText\"\\s*:\\s*\"([^\"]+)\"/);\n        if (jsonSimple?.[1]) {\n            const t = decodeUnicode(jsonSimple[1]);\n            if (isValidTitle(t)) return t;\n        }\n        // 5) headline (Shorts 개별 페이지에서도 등장 가능)\n        const headline = html.match(/\"headline\"\\s*:\\s*\\{\\s*\"simpleText\"\\s*:\\s*\"([^\"]+)\"/);\n        if (headline?.[1]) {\n            const t = decodeUnicode(headline[1]);\n            if (isValidTitle(t)) return t;\n        }\n        // 6) engagementPanels 내 제목 (Shorts 페이지 특유)\n        const engagementTitle = html.match(/\"headerTitle\"\\s*:\\s*\"([^\"]+)\"/);\n        if (engagementTitle?.[1]) {\n            const t = decodeUnicode(engagementTitle[1]);\n            if (isValidTitle(t)) return t;\n        }\n        return \"\";\n    } catch  {\n        return \"\";\n    }\n}\nasync function fetchLatestVideo() {\n    try {\n        const res = await fetch(`${CHANNEL_URL}/videos`, {\n            headers: COMMON_HEADERS,\n            cache: \"no-store\"\n        });\n        const html = await res.text();\n        const videoId = extractLatestVideoId(html);\n        if (!videoId) return null;\n        const title = extractTitle(html, videoId);\n        const thumbnail = `https://i.ytimg.com/vi/${videoId}/maxresdefault.jpg`;\n        return {\n            id: videoId,\n            title: title || \"HADES 영상\",\n            thumbnail,\n            url: `https://www.youtube.com/watch?v=${videoId}`,\n            type: \"video\",\n            publishedAt: null\n        };\n    } catch  {\n        return null;\n    }\n}\nasync function fetchLatestShort() {\n    try {\n        const res = await fetch(`${CHANNEL_URL}/shorts`, {\n            headers: COMMON_HEADERS,\n            cache: \"no-store\"\n        });\n        const html = await res.text();\n        const shortsId = extractShortsId(html);\n        if (!shortsId) return null;\n        // 1차: 채널 shorts 탭 HTML에서 Shorts 전용 추출\n        let title = extractShortsTitle(html, shortsId);\n        // 2차: 실패 시 개별 Shorts 페이지에서 직접 가져오기\n        if (!title) {\n            title = await fetchShortsTitleDirect(shortsId);\n        }\n        const thumbnail = `https://i.ytimg.com/vi/${shortsId}/maxresdefault.jpg`;\n        return {\n            id: shortsId,\n            title: title || \"HADES Shorts\",\n            thumbnail,\n            url: `https://www.youtube.com/shorts/${shortsId}`,\n            type: \"shorts\",\n            publishedAt: null\n        };\n    } catch  {\n        return null;\n    }\n}\nasync function GET() {\n    const now = Date.now();\n    if (cached && cached.expiresAt > now) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(cached.data);\n    }\n    try {\n        const [video, short] = await Promise.all([\n            fetchLatestVideo(),\n            fetchLatestShort()\n        ]);\n        const results = [\n            video,\n            short\n        ].filter(Boolean);\n        cached = {\n            data: results,\n            expiresAt: now + 30 * 60 * 1000\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(results);\n    } catch  {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json([]);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSXJGLFVBQVVBLE9BQU91RixTQUFTLEdBQUdGLEtBQUs7UUFDcEMsT0FBT3hGLHFEQUFZQSxDQUFDMkYsSUFBSSxDQUFDeEYsT0FBT3lGLElBQUk7SUFDdEM7SUFFQSxJQUFJO1FBQ0YsTUFBTSxDQUFDQyxPQUFPQyxNQUFNLEdBQUcsTUFBTUMsUUFBUUMsR0FBRyxDQUFDO1lBQ3ZDZjtZQUNBSztTQUNEO1FBRUQsTUFBTVcsVUFBVTtZQUFDSjtZQUFPQztTQUFNLENBQUNJLE1BQU0sQ0FBQ0M7UUFFdENoRyxTQUFTO1lBQ1B5RixNQUFNSztZQUNOUCxXQUFXRixNQUFNLEtBQUssS0FBSztRQUM3QjtRQUVBLE9BQU94RixxREFBWUEsQ0FBQzJGLElBQUksQ0FBQ007SUFDM0IsRUFBRSxPQUFNO1FBQ04sT0FBT2pHLHFEQUFZQSxDQUFDMkYsSUFBSSxDQUFDLEVBQUU7SUFDN0I7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2hhZGVzLWZhbmFwcC8uL2FwcC9hcGkveW91dHViZS9yb3V0ZS50cz83YmQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xyXG5cclxudHlwZSBZb3VUdWJlVmlkZW8gPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIHRodW1ibmFpbDogc3RyaW5nO1xyXG4gIHVybDogc3RyaW5nO1xyXG4gIHR5cGU6IFwidmlkZW9cIiB8IFwic2hvcnRzXCI7XHJcbiAgcHVibGlzaGVkQXQ6IHN0cmluZyB8IG51bGw7XHJcbn07XHJcblxyXG5jb25zdCBDSEFOTkVMX1VSTCA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vQEhBREVTX29mZmlcIjtcclxuY29uc3QgQ09NTU9OX0hFQURFUlMgPSB7XHJcbiAgXCJVc2VyLUFnZW50XCI6IFwiTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEyMC4wLjAuMCBTYWZhcmkvNTM3LjM2XCIsXHJcbiAgXCJBY2NlcHQtTGFuZ3VhZ2VcIjogXCJrby1LUixrbztxPTAuOVwiLFxyXG59O1xyXG5cclxubGV0IGNhY2hlZDogeyBkYXRhOiBZb3VUdWJlVmlkZW9bXTsgZXhwaXJlc0F0OiBudW1iZXIgfSB8IG51bGwgPSBudWxsO1xyXG5cclxuZnVuY3Rpb24gZXh0cmFjdFZpZGVvSWQodGV4dDogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgY29uc3QgbWF0Y2ggPSB0ZXh0Lm1hdGNoKC9cXC93YXRjaFxcP3Y9KFthLXpBLVowLTlfLV17MTF9KS8pO1xyXG4gIHJldHVybiBtYXRjaD8uWzFdID8/IG51bGw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV4dHJhY3RMYXRlc3RWaWRlb0lkKHRleHQ6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xyXG4gIGNvbnN0IHJlbmRlcmVySWRzOiBzdHJpbmdbXSA9IFtdO1xyXG4gIGNvbnN0IHJlbmRlcmVyUGF0dGVybnMgPSBbXHJcbiAgICAvXCJncmlkVmlkZW9SZW5kZXJlclwiXFxzKjpcXHMqXFx7W1xcc1xcU117MCwxMjB9P1widmlkZW9JZFwiXFxzKjpcXHMqXCIoW2EtekEtWjAtOV8tXXsxMX0pXCIvZyxcclxuICAgIC9cInZpZGVvUmVuZGVyZXJcIlxccyo6XFxzKlxce1tcXHNcXFNdezAsMTIwfT9cInZpZGVvSWRcIlxccyo6XFxzKlwiKFthLXpBLVowLTlfLV17MTF9KVwiL2csXHJcbiAgXTtcclxuXHJcbiAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIHJlbmRlcmVyUGF0dGVybnMpIHtcclxuICAgIGZvciAoY29uc3QgbWF0Y2ggb2YgdGV4dC5tYXRjaEFsbChwYXR0ZXJuKSkge1xyXG4gICAgICBjb25zdCBpZCA9IG1hdGNoWzFdO1xyXG4gICAgICBpZiAoaWQpIHJlbmRlcmVySWRzLnB1c2goaWQpO1xyXG4gICAgfVxyXG4gICAgaWYgKHJlbmRlcmVySWRzLmxlbmd0aCA+IDApIGJyZWFrO1xyXG4gIH1cclxuXHJcbiAgaWYgKHJlbmRlcmVySWRzLmxlbmd0aCA+IDApIHtcclxuICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBTZXQocmVuZGVyZXJJZHMpKVswXSA/PyBudWxsO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGV4dHJhY3RWaWRlb0lkKHRleHQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBleHRyYWN0U2hvcnRzSWQodGV4dDogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgY29uc3QgY2FuZGlkYXRlczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgLy8gU2hvcnRzIO2DreyXkOyEnCDstZzsi6Ag7IicIOygleugrOydtCDsnpgg67CY7JiB65CY64qUIHJlbmRlcmVyIOyasOyEoCDtg5Dsg4lcclxuICBjb25zdCByZW5kZXJlclBhdHRlcm5zID0gW1xyXG4gICAgL1wicmVlbEl0ZW1SZW5kZXJlclwiXFxzKjpcXHMqXFx7W1xcc1xcU117MCwxODB9P1widmlkZW9JZFwiXFxzKjpcXHMqXCIoW2EtekEtWjAtOV8tXXsxMX0pXCIvZyxcclxuICAgIC9cInJpY2hJdGVtUmVuZGVyZXJcIlxccyo6XFxzKlxce1tcXHNcXFNdezAsMzAwfT9cInZpZGVvSWRcIlxccyo6XFxzKlwiKFthLXpBLVowLTlfLV17MTF9KVwiL2csXHJcbiAgXTtcclxuXHJcbiAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIHJlbmRlcmVyUGF0dGVybnMpIHtcclxuICAgIGZvciAoY29uc3QgbWF0Y2ggb2YgdGV4dC5tYXRjaEFsbChwYXR0ZXJuKSkge1xyXG4gICAgICBjb25zdCBpZCA9IG1hdGNoWzFdO1xyXG4gICAgICBpZiAoaWQpIGNhbmRpZGF0ZXMucHVzaChpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNhbmRpZGF0ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KGNhbmRpZGF0ZXMpKVswXSA/PyBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g7Y+067CxOiAvc2hvcnRzL0lEIOunge2BrOulvCDrqqjrkZAg7IiY7KeRIO2bhCDssqsgSUQg7IKs7JqpXHJcbiAgZm9yIChjb25zdCBtYXRjaCBvZiB0ZXh0Lm1hdGNoQWxsKC9cXC9zaG9ydHNcXC8oW2EtekEtWjAtOV8tXXsxMX0pL2cpKSB7XHJcbiAgICBjb25zdCBpZCA9IG1hdGNoWzFdO1xyXG4gICAgaWYgKGlkKSBjYW5kaWRhdGVzLnB1c2goaWQpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldChjYW5kaWRhdGVzKSlbMF0gPz8gbnVsbDtcclxufVxyXG5cclxuZnVuY3Rpb24gZGVjb2RlVW5pY29kZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIHN0clxyXG4gICAgLnJlcGxhY2UoL1xcXFx1KFswLTlhLWZBLUZdezR9KS9nLCAoXywgaGV4KSA9PiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGhleCwgMTYpKSlcclxuICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJylcclxuICAgIC5yZXBsYWNlKC9cXFxcbi9nLCBcIiBcIik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDsnKDtmqjtlZwg7KCc66qp7J247KeAIOqygOymnVxyXG4gKiAtIFwi64ur6riwXCIsIOyInOyImCDtg4DsnoTsiqTtg6ztlIQsIOu5iCDrrLjsnpDsl7Qg65Ox7J2AIOygnOyZuFxyXG4gKi9cclxuZnVuY3Rpb24gaXNWYWxpZFRpdGxlKHRpdGxlOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICBpZiAoIXRpdGxlIHx8IHRpdGxlLnRyaW0oKS5sZW5ndGggPCAyKSByZXR1cm4gZmFsc2U7XHJcbiAgY29uc3QgdCA9IHRpdGxlLnRyaW0oKTtcclxuXHJcbiAgLy8gXCLri6vquLBcIiAoU2hvcnRzIO2OmOydtOyngOydmCBjbG9zZSDrsoTtirwg7YWN7Iqk7Yq4KVxyXG4gIGlmICh0ID09PSBcIuuLq+q4sFwiIHx8IHQgPT09IFwiQ2xvc2VcIikgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAvLyDsiJzsiJgg7YOA7J6E7Iqk7YOs7ZSEIO2MqO2EtCAo7JiIOiBcIjA6MDBcIiwgXCIxOjIzOjQ1XCIsIFwiMDA6MzBcIilcclxuICBpZiAoL15cXGR7MSwyfSg6XFxkezJ9KXsxLDJ9JC8udGVzdCh0KSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAvLyDtg4DsnoTsiqTtg6ztlIQgKyDsiqzrnpjsi5wg7Yyo7YS0ICjsmIg6IFwiMDowMCAvIDM6NDVcIilcclxuICBpZiAoL15cXGR7MSwyfSg6XFxkezJ9KXsxLDJ9XFxzKlxcL1xccypcXGR7MSwyfSg6XFxkezJ9KXsxLDJ9JC8udGVzdCh0KSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAvLyBZb3VUdWJlIFVJIOq0gOugqCDthY3siqTtirhcclxuICBjb25zdCB1aVRleHRzID0gW1xyXG4gICAgXCJZb3VUdWJlXCIsIFwi6rWs64+FXCIsIFwi7KKL7JWE7JqUXCIsIFwi7Iur7Ja07JqUXCIsIFwi6rO17JygXCIsIFwi7KCA7J6lXCIsXHJcbiAgICBcIlN1YnNjcmliZVwiLCBcIkxpa2VcIiwgXCJEaXNsaWtlXCIsIFwiU2hhcmVcIiwgXCJTYXZlXCIsXHJcbiAgICBcIuuNlOuztOq4sFwiLCBcIuqwhOuete2eiFwiLCBcIlNob3cgbW9yZVwiLCBcIlNob3cgbGVzc1wiLFxyXG4gICAgXCLrjJPquIBcIiwgXCJDb21tZW50c1wiLFxyXG4gIF07XHJcbiAgaWYgKHVpVGV4dHMuaW5jbHVkZXModCkpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDqsJzshKDrkJwg7KCc66qpIOy2lOy2nCAtIOyXrOufrCDtjKjthLTsnYQg7Iuc64+E7ZWY7JesIOyLpOygnCDsmIHsg4Eg7KCc66qp7J2EIO2ZleyLpO2eiCDqsIDsoLjsmLRcclxuICogU2hvcnRz7J2YIFwi64ur6riwXCIg66y47KCcIOuwjyBWaWRlb+ydmCDtg4DsnoTsiqTtg6ztlIQg66y47KCc66W8IOuwqeyngFxyXG4gKi9cclxuZnVuY3Rpb24gZXh0cmFjdFRpdGxlKGh0bWw6IHN0cmluZywgdmlkZW9JZDogc3RyaW5nKTogc3RyaW5nIHtcclxuICBjb25zdCBjYW5kaWRhdGVzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAvLyAxKSB2aWRlb0lkIOyjvOuzgOyXkOyEnCB0aXRsZSDstpTstpwgKOqwgOyepSDsi6DrorDrj4Qg64aS7J2MKVxyXG4gIGNvbnN0IGlkeCA9IGh0bWwuaW5kZXhPZihgXCJ2aWRlb0lkXCI6XCIke3ZpZGVvSWR9XCJgKTtcclxuICBpZiAoaWR4ICE9PSAtMSkge1xyXG4gICAgLy8gdmlkZW9JZCDrkqTsqr0g7YOQ7IOJXHJcbiAgICBjb25zdCBjaHVuayA9IGh0bWwuc3Vic3RyaW5nKGlkeCwgTWF0aC5taW4oaWR4ICsgMTIwMCwgaHRtbC5sZW5ndGgpKTtcclxuXHJcbiAgICAvLyBydW5zIO2YleyLnTogXCJ0aXRsZVwiOntcInJ1bnNcIjpbe1widGV4dFwiOlwiLi4uXCJ9XX1cclxuICAgIGNvbnN0IHJ1bnNNYXRjaCA9IGNodW5rLm1hdGNoKC9cInRpdGxlXCJcXHMqOlxccypcXHtcXHMqXCJydW5zXCJcXHMqOlxccypcXFtcXHMqXFx7XFxzKlwidGV4dFwiXFxzKjpcXHMqXCIoW15cIl0rKVwiLyk7XHJcbiAgICBpZiAocnVuc01hdGNoPy5bMV0pIHtcclxuICAgICAgY29uc3QgdCA9IGRlY29kZVVuaWNvZGUocnVuc01hdGNoWzFdKTtcclxuICAgICAgaWYgKGlzVmFsaWRUaXRsZSh0KSkgY2FuZGlkYXRlcy5wdXNoKHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHNpbXBsZVRleHQg7ZiV7IudOiBcInRpdGxlXCI6e1wic2ltcGxlVGV4dFwiOlwiLi4uXCJ9XHJcbiAgICBjb25zdCBzaW1wbGVNYXRjaCA9IGNodW5rLm1hdGNoKC9cInRpdGxlXCJcXHMqOlxccypcXHtcXHMqXCJzaW1wbGVUZXh0XCJcXHMqOlxccypcIihbXlwiXSspXCIvKTtcclxuICAgIGlmIChzaW1wbGVNYXRjaD8uWzFdKSB7XHJcbiAgICAgIGNvbnN0IHQgPSBkZWNvZGVVbmljb2RlKHNpbXBsZU1hdGNoWzFdKTtcclxuICAgICAgaWYgKGlzVmFsaWRUaXRsZSh0KSkgY2FuZGlkYXRlcy5wdXNoKHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOydtOuvuCDsnKDtmqjtlZwg7KCc66qp7J2EIOywvuyVmOycvOuptCDrsJjtmZhcclxuICAgIGlmIChjYW5kaWRhdGVzLmxlbmd0aCA+IDApIHJldHVybiBjYW5kaWRhdGVzWzBdO1xyXG5cclxuICAgIC8vIHZpZGVvSWQg7JWe7Kq97JeQ7ISc64+EIO2DkOyDiSAo7KCc66qp7J20IHZpZGVvSWTrs7Tri6Qg66i87KCAIOyYrCDsiJgg7J6I7J2MKVxyXG4gICAgaWYgKGlkeCA+IDMwMCkge1xyXG4gICAgICBjb25zdCBiZWZvcmVDaHVuayA9IGh0bWwuc3Vic3RyaW5nKE1hdGgubWF4KDAsIGlkeCAtIDYwMCksIGlkeCArIDEwMCk7XHJcbiAgICAgIGNvbnN0IGJlZm9yZVJ1bnMgPSBiZWZvcmVDaHVuay5tYXRjaCgvXCJ0aXRsZVwiXFxzKjpcXHMqXFx7XFxzKlwicnVuc1wiXFxzKjpcXHMqXFxbXFxzKlxce1xccypcInRleHRcIlxccyo6XFxzKlwiKFteXCJdKylcIi8pO1xyXG4gICAgICBpZiAoYmVmb3JlUnVucz8uWzFdKSB7XHJcbiAgICAgICAgY29uc3QgdCA9IGRlY29kZVVuaWNvZGUoYmVmb3JlUnVuc1sxXSk7XHJcbiAgICAgICAgaWYgKGlzVmFsaWRUaXRsZSh0KSkgY2FuZGlkYXRlcy5wdXNoKHQpO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IGJlZm9yZVNpbXBsZSA9IGJlZm9yZUNodW5rLm1hdGNoKC9cInRpdGxlXCJcXHMqOlxccypcXHtcXHMqXCJzaW1wbGVUZXh0XCJcXHMqOlxccypcIihbXlwiXSspXCIvKTtcclxuICAgICAgaWYgKGJlZm9yZVNpbXBsZT8uWzFdKSB7XHJcbiAgICAgICAgY29uc3QgdCA9IGRlY29kZVVuaWNvZGUoYmVmb3JlU2ltcGxlWzFdKTtcclxuICAgICAgICBpZiAoaXNWYWxpZFRpdGxlKHQpKSBjYW5kaWRhdGVzLnB1c2godCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChjYW5kaWRhdGVzLmxlbmd0aCA+IDApIHJldHVybiBjYW5kaWRhdGVzWzBdO1xyXG5cclxuICAvLyAyKSBncmlkVmlkZW9SZW5kZXJlciAvIHJlZWxJdGVtUmVuZGVyZXIg6riw67CYIO2DkOyDiSAo7LGE64SQIO2OmOydtOyngOyXkOyEnCDroIzrjZTrp4HrkJjripQg7ZiV7YOcKVxyXG4gIC8vIHZpZGVvSWTrpbwg7Y+s7ZWo7ZWY64qUIHJlbmRlcmVyIOu4lOuhneydhCDssL7qs6AsIOq3uCDslYjsl5DshJwgdGl0bGUg7LaU7LacXHJcbiAgY29uc3QgcmVuZGVyZXJQYXR0ZXJucyA9IFtcclxuICAgIG5ldyBSZWdFeHAoYFwiZ3JpZFZpZGVvUmVuZGVyZXJcIlxcXFxzKjpcXFxccypcXFxce1tefV0qP1widmlkZW9JZFwiXFxcXHMqOlxcXFxzKlwiJHt2aWRlb0lkfVwiW1xcXFxzXFxcXFNdezAsODAwfT9cInRpdGxlXCJcXFxccyo6XFxcXHMqXFxcXHtcXFxccyooPzpcInJ1bnNcIlxcXFxzKjpcXFxccypcXFxcW1xcXFxzKlxcXFx7XFxcXHMqXCJ0ZXh0XCJcXFxccyo6XFxcXHMqXCIoW15cIl0rKVwifFwic2ltcGxlVGV4dFwiXFxcXHMqOlxcXFxzKlwiKFteXCJdKylcIilgLCBcIm1cIiksXHJcbiAgICBuZXcgUmVnRXhwKGBcInJlZWxJdGVtUmVuZGVyZXJcIlxcXFxzKjpcXFxccypcXFxce1tefV0qP1widmlkZW9JZFwiXFxcXHMqOlxcXFxzKlwiJHt2aWRlb0lkfVwiW1xcXFxzXFxcXFNdezAsODAwfT9cImhlYWRsaW5lXCJcXFxccyo6XFxcXHMqXFxcXHtcXFxccypcInNpbXBsZVRleHRcIlxcXFxzKjpcXFxccypcIihbXlwiXSspXCJgLCBcIm1cIiksXHJcbiAgICBuZXcgUmVnRXhwKGBcInZpZGVvSWRcIlxcXFxzKjpcXFxccypcIiR7dmlkZW9JZH1cIltcXFxcc1xcXFxTXXswLDEwMDB9P1wiaGVhZGxpbmVcIlxcXFxzKjpcXFxccypcXFxce1xcXFxzKlwic2ltcGxlVGV4dFwiXFxcXHMqOlxcXFxzKlwiKFteXCJdKylcImAsIFwibVwiKSxcclxuICBdO1xyXG5cclxuICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgcmVuZGVyZXJQYXR0ZXJucykge1xyXG4gICAgY29uc3QgbWF0Y2ggPSBodG1sLm1hdGNoKHBhdHRlcm4pO1xyXG4gICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgIGNvbnN0IHQgPSBkZWNvZGVVbmljb2RlKG1hdGNoWzFdIHx8IG1hdGNoWzJdIHx8IG1hdGNoWzNdIHx8IFwiXCIpO1xyXG4gICAgICBpZiAoaXNWYWxpZFRpdGxlKHQpKSByZXR1cm4gdDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIDMpIGFjY2Vzc2liaWxpdHlEYXRh7JeQ7IScIGxhYmVsIOy2lOy2nFxyXG4gIGNvbnN0IGFjY2Vzc1BhdHRlcm5zID0gW1xyXG4gICAgbmV3IFJlZ0V4cChgXCJ2aWRlb0lkXCJcXFxccyo6XFxcXHMqXCIke3ZpZGVvSWR9XCJbXFxcXHNcXFxcU117MCwyMDAwfT9cImFjY2Vzc2liaWxpdHlEYXRhXCJcXFxccyo6XFxcXHMqXFxcXHtcXFxccypcImxhYmVsXCJcXFxccyo6XFxcXHMqXCIoW15cIl0rKVwiYCwgXCJtXCIpLFxyXG4gICAgbmV3IFJlZ0V4cChgXCJhY2Nlc3NpYmlsaXR5RGF0YVwiXFxcXHMqOlxcXFxzKlxcXFx7XFxcXHMqXCJsYWJlbFwiXFxcXHMqOlxcXFxzKlwiKFteXCJdKiR7dmlkZW9JZH1bXlwiXSopXCJgLCBcIm1cIiksXHJcbiAgXTtcclxuICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgYWNjZXNzUGF0dGVybnMpIHtcclxuICAgIGNvbnN0IG1hdGNoID0gaHRtbC5tYXRjaChwYXR0ZXJuKTtcclxuICAgIGlmIChtYXRjaD8uWzFdKSB7XHJcbiAgICAgIGNvbnN0IGxhYmVsID0gZGVjb2RlVW5pY29kZShtYXRjaFsxXSk7XHJcbiAgICAgIC8vIGxhYmVs7J2AIOuztO2GtSBcIuygnOuqqSBieSDssYTrhJAgTiB2aWV3cyBOIGFnb1wiIO2Yle2DnCDihpIg66eoIOyVniDrtoDrtoQg7IKs7JqpXHJcbiAgICAgIC8vIOuYkOuKlCBcIuygnOuqqSAtIOyerOyDnSDsi5zqsIQ6IE7rtoQgTuy0iFwiIO2Yle2DnFxyXG4gICAgICBsZXQgdGl0bGUgPSBsYWJlbDtcclxuICAgICAgY29uc3QgYnlJbmRleCA9IGxhYmVsLmxhc3RJbmRleE9mKFwiIGJ5IFwiKTtcclxuICAgICAgaWYgKGJ5SW5kZXggPiAwKSB0aXRsZSA9IGxhYmVsLnN1YnN0cmluZygwLCBieUluZGV4KS50cmltKCk7XHJcblxyXG4gICAgICAvLyDsnqzsg50g7Iuc6rCEIOu2gOu2hCDsoJzqsbBcclxuICAgICAgdGl0bGUgPSB0aXRsZS5yZXBsYWNlKC9cXHMqLVxccyrsnqzsg50g7Iuc6rCEOi4qJC8sIFwiXCIpLnRyaW0oKTtcclxuICAgICAgdGl0bGUgPSB0aXRsZS5yZXBsYWNlKC9cXHMqLVxccypwbGF5IGxlbmd0aC4qJC9pLCBcIlwiKS50cmltKCk7XHJcblxyXG4gICAgICBpZiAoaXNWYWxpZFRpdGxlKHRpdGxlKSkgcmV0dXJuIHRpdGxlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gNCkgb2c6dGl0bGUg66mU7YOAIO2DnOq3uCAo6rCc67OEIOyYgeyDgSDtjpjsnbTsp4Dsnbgg6rK97JqwKVxyXG4gIGNvbnN0IG9nVGl0bGUgPSBodG1sLm1hdGNoKC88bWV0YVtePl0rcHJvcGVydHk9W1wiJ11vZzp0aXRsZVtcIiddW14+XStjb250ZW50PVtcIiddKFteXCInXSspW1wiJ10vaSlcclxuICAgID8/IGh0bWwubWF0Y2goLzxtZXRhW14+XStjb250ZW50PVtcIiddKFteXCInXSspW1wiJ11bXj5dK3Byb3BlcnR5PVtcIiddb2c6dGl0bGVbXCInXS9pKTtcclxuICBpZiAob2dUaXRsZT8uWzFdKSB7XHJcbiAgICBjb25zdCB0ID0gZGVjb2RlVW5pY29kZShvZ1RpdGxlWzFdKS50cmltKCk7XHJcbiAgICBpZiAodCAmJiAhdC5pbmNsdWRlcyhcIllvdVR1YmVcIikgJiYgIXQuaW5jbHVkZXMoXCJAXCIpICYmIGlzVmFsaWRUaXRsZSh0KSkgcmV0dXJuIHQ7XHJcbiAgfVxyXG5cclxuICAvLyA1KSA8dGl0bGU+IO2DnOq3uFxyXG4gIGNvbnN0IHRpdGxlVGFnID0gaHRtbC5tYXRjaCgvPHRpdGxlW14+XSo+KFtePF0rKTxcXC90aXRsZT4vaSk7XHJcbiAgaWYgKHRpdGxlVGFnPy5bMV0pIHtcclxuICAgIGNvbnN0IHQgPSB0aXRsZVRhZ1sxXS5yZXBsYWNlKC9cXHMqLVxccypZb3VUdWJlXFxzKiQvaSwgXCJcIikudHJpbSgpO1xyXG4gICAgaWYgKGlzVmFsaWRUaXRsZSh0KSAmJiAhdC5pbmNsdWRlcyhcIkBcIikpIHJldHVybiB0O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFwiXCI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTaG9ydHMg7KCE7JqpIOygnOuqqSDstpTstpwgLSDssYTrhJAgc2hvcnRzIO2DrSBIVE1M7JeQ7IScIHJlZWxJdGVtUmVuZGVyZXIg6riw67CY7Jy866GcIOy2lOy2nFxyXG4gKiDsnbzrsJggZXh0cmFjdFRpdGxl6rO8IOuLrOumrCBTaG9ydHMg7Yq57Jyg7J2YIEpTT04g6rWs7KGwKGhlYWRsaW5lLCBvdmVybGF5TWV0YWRhdGEg65OxKeulvCDsmrDshKAg7YOQ7IOJXHJcbiAqL1xyXG5mdW5jdGlvbiBleHRyYWN0U2hvcnRzVGl0bGUoaHRtbDogc3RyaW5nLCBzaG9ydHNJZDogc3RyaW5nKTogc3RyaW5nIHtcclxuICBjb25zdCBjYW5kaWRhdGVzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAvLyBzaG9ydHNJZOqwgCBIVE1M7JeQ7IScIOuTseyepe2VmOuKlCDrqqjrk6Ag7JyE7LmY66W8IO2DkOyDiVxyXG4gIC8vIFlvdVR1YmUgU2hvcnRzIOyxhOuEkCDtg63sl5DshJzripQgXCJ2aWRlb0lkXCI6XCJJRFwiIOyZuOyXkOuPhCBcIi9zaG9ydHMvSURcIiDtmJXtg5zroZwg65Ox7J6lXHJcbiAgY29uc3Qgc2VhcmNoUGF0dGVybnMgPSBbXHJcbiAgICBgXCIke3Nob3J0c0lkfVwiYCxcclxuICAgIGBcXFxcL3Nob3J0c1xcXFwvJHtzaG9ydHNJZH1gLFxyXG4gIF07XHJcblxyXG4gIGZvciAoY29uc3Qgc2VhcmNoU3RyIG9mIHNlYXJjaFBhdHRlcm5zKSB7XHJcbiAgICBsZXQgc2VhcmNoSWR4ID0gMDtcclxuICAgIGNvbnN0IHBsYWluU3RyID0gc2VhcmNoU3RyLnJlcGxhY2UoL1xcXFxcXFxcL2csIFwiL1wiKTtcclxuXHJcbiAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICBjb25zdCBpZElkeCA9IGh0bWwuaW5kZXhPZihcclxuICAgICAgICBwbGFpblN0ci5pbmNsdWRlcyhcIi9zaG9ydHMvXCIpID8gYC9zaG9ydHMvJHtzaG9ydHNJZH1gIDogYFwiJHtzaG9ydHNJZH1cImAsXHJcbiAgICAgICAgc2VhcmNoSWR4XHJcbiAgICAgICk7XHJcbiAgICAgIGlmIChpZElkeCA9PT0gLTEpIGJyZWFrO1xyXG4gICAgICBzZWFyY2hJZHggPSBpZElkeCArIDE7XHJcblxyXG4gICAgICAvLyBJRCDso7zrs4Ag7JWe65KkIDI1MDDsnpAg67KU7JyE7JeQ7IScIO2DkOyDiVxyXG4gICAgICBjb25zdCBzdGFydCA9IE1hdGgubWF4KDAsIGlkSWR4IC0gMTUwMCk7XHJcbiAgICAgIGNvbnN0IGVuZCA9IE1hdGgubWluKGh0bWwubGVuZ3RoLCBpZElkeCArIDI1MDApO1xyXG4gICAgICBjb25zdCBjaHVuayA9IGh0bWwuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpO1xyXG5cclxuICAgICAgLy8gaGVhZGxpbmUuc2ltcGxlVGV4dCDtjKjthLQgKHJlZWxJdGVtUmVuZGVyZXLsl5DshJwg6rCA7J6lIO2dlO2VqClcclxuICAgICAgY29uc3QgaGVhZGxpbmVTaW1wbGUgPSBjaHVuay5tYXRjaCgvXCJoZWFkbGluZVwiXFxzKjpcXHMqXFx7XFxzKlwic2ltcGxlVGV4dFwiXFxzKjpcXHMqXCIoW15cIl0rKVwiLyk7XHJcbiAgICAgIGlmIChoZWFkbGluZVNpbXBsZT8uWzFdKSB7XHJcbiAgICAgICAgY29uc3QgdCA9IGRlY29kZVVuaWNvZGUoaGVhZGxpbmVTaW1wbGVbMV0pO1xyXG4gICAgICAgIGlmIChpc1ZhbGlkVGl0bGUodCkpIGNhbmRpZGF0ZXMucHVzaCh0KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gaGVhZGxpbmUucnVucyDtjKjthLRcclxuICAgICAgY29uc3QgaGVhZGxpbmVSdW5zID0gY2h1bmsubWF0Y2goL1wiaGVhZGxpbmVcIlxccyo6XFxzKlxce1xccypcInJ1bnNcIlxccyo6XFxzKlxcW1xccypcXHtcXHMqXCJ0ZXh0XCJcXHMqOlxccypcIihbXlwiXSspXCIvKTtcclxuICAgICAgaWYgKGhlYWRsaW5lUnVucz8uWzFdKSB7XHJcbiAgICAgICAgY29uc3QgdCA9IGRlY29kZVVuaWNvZGUoaGVhZGxpbmVSdW5zWzFdKTtcclxuICAgICAgICBpZiAoaXNWYWxpZFRpdGxlKHQpKSBjYW5kaWRhdGVzLnB1c2godCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIG92ZXJsYXlNZXRhZGF0YS5wcmltYXJ5VGV4dC5jb250ZW50IO2MqO2EtFxyXG4gICAgICBjb25zdCBvdmVybGF5UHJpbWFyeSA9IGNodW5rLm1hdGNoKC9cInByaW1hcnlUZXh0XCJcXHMqOlxccypcXHtcXHMqXCJjb250ZW50XCJcXHMqOlxccypcIihbXlwiXSspXCIvKTtcclxuICAgICAgaWYgKG92ZXJsYXlQcmltYXJ5Py5bMV0pIHtcclxuICAgICAgICBjb25zdCB0ID0gZGVjb2RlVW5pY29kZShvdmVybGF5UHJpbWFyeVsxXSk7XHJcbiAgICAgICAgaWYgKGlzVmFsaWRUaXRsZSh0KSkgY2FuZGlkYXRlcy5wdXNoKHQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyB0aXRsZS5ydW5zIO2MqO2EtFxyXG4gICAgICBjb25zdCB0aXRsZVJ1bnMgPSBjaHVuay5tYXRjaCgvXCJ0aXRsZVwiXFxzKjpcXHMqXFx7XFxzKlwicnVuc1wiXFxzKjpcXHMqXFxbXFxzKlxce1xccypcInRleHRcIlxccyo6XFxzKlwiKFteXCJdKylcIi8pO1xyXG4gICAgICBpZiAodGl0bGVSdW5zPy5bMV0pIHtcclxuICAgICAgICBjb25zdCB0ID0gZGVjb2RlVW5pY29kZSh0aXRsZVJ1bnNbMV0pO1xyXG4gICAgICAgIGlmIChpc1ZhbGlkVGl0bGUodCkpIGNhbmRpZGF0ZXMucHVzaCh0KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gdGl0bGUuc2ltcGxlVGV4dCDtjKjthLRcclxuICAgICAgY29uc3QgdGl0bGVTaW1wbGUgPSBjaHVuay5tYXRjaCgvXCJ0aXRsZVwiXFxzKjpcXHMqXFx7XFxzKlwic2ltcGxlVGV4dFwiXFxzKjpcXHMqXCIoW15cIl0rKVwiLyk7XHJcbiAgICAgIGlmICh0aXRsZVNpbXBsZT8uWzFdKSB7XHJcbiAgICAgICAgY29uc3QgdCA9IGRlY29kZVVuaWNvZGUodGl0bGVTaW1wbGVbMV0pO1xyXG4gICAgICAgIGlmIChpc1ZhbGlkVGl0bGUodCkpIGNhbmRpZGF0ZXMucHVzaCh0KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGNhbmRpZGF0ZXMubGVuZ3RoID4gMCkgcmV0dXJuIGNhbmRpZGF0ZXNbMF07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAoY2FuZGlkYXRlcy5sZW5ndGggPiAwKSByZXR1cm4gY2FuZGlkYXRlc1swXTtcclxuXHJcbiAgLy8gYWNjZXNzaWJpbGl0eURhdGEubGFiZWzsl5DshJwg7LaU7LacXHJcbiAgY29uc3QgYWNjZXNzUGF0dGVybnMgPSBbXHJcbiAgICBuZXcgUmVnRXhwKGBcIiR7c2hvcnRzSWR9XCJbXFxcXHNcXFxcU117MCwzMDAwfT9cImFjY2Vzc2liaWxpdHlEYXRhXCJcXFxccyo6XFxcXHMqXFxcXHtcXFxccypcImxhYmVsXCJcXFxccyo6XFxcXHMqXCIoW15cIl0rKVwiYCwgXCJtXCIpLFxyXG4gICAgbmV3IFJlZ0V4cChgXCJhY2Nlc3NpYmlsaXR5RGF0YVwiXFxcXHMqOlxcXFxzKlxcXFx7XFxcXHMqXCJsYWJlbFwiXFxcXHMqOlxcXFxzKlwiKFteXCJdKiR7c2hvcnRzSWR9W15cIl0qKVwiYCwgXCJtXCIpLFxyXG4gIF07XHJcbiAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIGFjY2Vzc1BhdHRlcm5zKSB7XHJcbiAgICBjb25zdCBtYXRjaCA9IGh0bWwubWF0Y2gocGF0dGVybik7XHJcbiAgICBpZiAobWF0Y2g/LlsxXSkge1xyXG4gICAgICBjb25zdCBsYWJlbCA9IGRlY29kZVVuaWNvZGUobWF0Y2hbMV0pO1xyXG4gICAgICBsZXQgdGl0bGUgPSBsYWJlbDtcclxuICAgICAgLy8gXCIgLSBcIiDsnbTtm4Qg7KCc6rGwICjsobDtmozsiJgg65OxKVxyXG4gICAgICBjb25zdCBkYXNoSWR4ID0gdGl0bGUuaW5kZXhPZihcIiAtIFwiKTtcclxuICAgICAgaWYgKGRhc2hJZHggPiAwKSB0aXRsZSA9IHRpdGxlLnN1YnN0cmluZygwLCBkYXNoSWR4KS50cmltKCk7XHJcbiAgICAgIC8vIOuniOyngOuniSBcIiwgTiB2aWV3c1wiIO2MqO2EtCDsoJzqsbBcclxuICAgICAgdGl0bGUgPSB0aXRsZS5yZXBsYWNlKC8sXFxzKlxcZFtcXGQsLl0qXFxzKih2aWV3cz987KGw7ZqMfO2ajCkuKiQvaSwgXCJcIikudHJpbSgpO1xyXG4gICAgICBpZiAoaXNWYWxpZFRpdGxlKHRpdGxlKSkgcmV0dXJuIHRpdGxlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g7J2867CYIGV4dHJhY3RUaXRsZeuhnCDtj7TrsLFcclxuICByZXR1cm4gZXh0cmFjdFRpdGxlKGh0bWwsIHNob3J0c0lkKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOqwnOuzhCBTaG9ydHMg7Y6Y7J207KeA7JeQ7IScIOygnOuqqSDsp4HsoJEg6rCA7KC47Jik6riwICjssYTrhJAg7Y6Y7J207KeA7JeQ7IScIOyLpO2MqCDsi5wg7Y+067CxKVxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hTaG9ydHNUaXRsZURpcmVjdChzaG9ydHNJZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3Nob3J0cy8ke3Nob3J0c0lkfWAsIHtcclxuICAgICAgaGVhZGVyczogQ09NTU9OX0hFQURFUlMsXHJcbiAgICAgIGNhY2hlOiBcIm5vLXN0b3JlXCIsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZXMudGV4dCgpO1xyXG5cclxuICAgIC8vIDEpIG9nOnRpdGxlICjqsIDsnqUg7Iug66Kw64+EIOuGkuydjClcclxuICAgIGNvbnN0IG9nVGl0bGUgPSBodG1sLm1hdGNoKC88bWV0YVtePl0rcHJvcGVydHk9W1wiJ11vZzp0aXRsZVtcIiddW14+XStjb250ZW50PVtcIiddKFteXCInXSspW1wiJ10vaSlcclxuICAgICAgPz8gaHRtbC5tYXRjaCgvPG1ldGFbXj5dK2NvbnRlbnQ9W1wiJ10oW15cIiddKylbXCInXVtePl0rcHJvcGVydHk9W1wiJ11vZzp0aXRsZVtcIiddL2kpO1xyXG4gICAgaWYgKG9nVGl0bGU/LlsxXSkge1xyXG4gICAgICBjb25zdCB0ID0gZGVjb2RlVW5pY29kZShvZ1RpdGxlWzFdKS50cmltKCk7XHJcbiAgICAgIGlmIChpc1ZhbGlkVGl0bGUodCkgJiYgIXQuaW5jbHVkZXMoXCJZb3VUdWJlXCIpICYmICF0LmluY2x1ZGVzKFwiQFwiKSkgcmV0dXJuIHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gMikgPHRpdGxlPiDtg5zqt7hcclxuICAgIGNvbnN0IHRpdGxlVGFnID0gaHRtbC5tYXRjaCgvPHRpdGxlW14+XSo+KFtePF0rKTxcXC90aXRsZT4vaSk7XHJcbiAgICBpZiAodGl0bGVUYWc/LlsxXSkge1xyXG4gICAgICBjb25zdCB0ID0gdGl0bGVUYWdbMV0ucmVwbGFjZSgvXFxzKi1cXHMqWW91VHViZVxccyokL2ksIFwiXCIpLnRyaW0oKTtcclxuICAgICAgaWYgKGlzVmFsaWRUaXRsZSh0KSAmJiAhdC5pbmNsdWRlcyhcIkBcIikpIHJldHVybiB0O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIDMpIEpTT04g64K0IHRpdGxlLnJ1bnNcclxuICAgIGNvbnN0IGpzb25UaXRsZSA9IGh0bWwubWF0Y2goL1widGl0bGVcIlxccyo6XFxzKlxce1xccypcInJ1bnNcIlxccyo6XFxzKlxcW1xccypcXHtcXHMqXCJ0ZXh0XCJcXHMqOlxccypcIihbXlwiXSspXCIvKTtcclxuICAgIGlmIChqc29uVGl0bGU/LlsxXSkge1xyXG4gICAgICBjb25zdCB0ID0gZGVjb2RlVW5pY29kZShqc29uVGl0bGVbMV0pO1xyXG4gICAgICBpZiAoaXNWYWxpZFRpdGxlKHQpKSByZXR1cm4gdDtcclxuICAgIH1cclxuXHJcbiAgICAvLyA0KSBKU09OIOuCtCB0aXRsZS5zaW1wbGVUZXh0XHJcbiAgICBjb25zdCBqc29uU2ltcGxlID0gaHRtbC5tYXRjaCgvXCJ0aXRsZVwiXFxzKjpcXHMqXFx7XFxzKlwic2ltcGxlVGV4dFwiXFxzKjpcXHMqXCIoW15cIl0rKVwiLyk7XHJcbiAgICBpZiAoanNvblNpbXBsZT8uWzFdKSB7XHJcbiAgICAgIGNvbnN0IHQgPSBkZWNvZGVVbmljb2RlKGpzb25TaW1wbGVbMV0pO1xyXG4gICAgICBpZiAoaXNWYWxpZFRpdGxlKHQpKSByZXR1cm4gdDtcclxuICAgIH1cclxuXHJcbiAgICAvLyA1KSBoZWFkbGluZSAoU2hvcnRzIOqwnOuzhCDtjpjsnbTsp4Dsl5DshJzrj4Qg65Ox7J6lIOqwgOuKpSlcclxuICAgIGNvbnN0IGhlYWRsaW5lID0gaHRtbC5tYXRjaCgvXCJoZWFkbGluZVwiXFxzKjpcXHMqXFx7XFxzKlwic2ltcGxlVGV4dFwiXFxzKjpcXHMqXCIoW15cIl0rKVwiLyk7XHJcbiAgICBpZiAoaGVhZGxpbmU/LlsxXSkge1xyXG4gICAgICBjb25zdCB0ID0gZGVjb2RlVW5pY29kZShoZWFkbGluZVsxXSk7XHJcbiAgICAgIGlmIChpc1ZhbGlkVGl0bGUodCkpIHJldHVybiB0O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIDYpIGVuZ2FnZW1lbnRQYW5lbHMg64K0IOygnOuqqSAoU2hvcnRzIO2OmOydtOyngCDtirnsnKApXHJcbiAgICBjb25zdCBlbmdhZ2VtZW50VGl0bGUgPSBodG1sLm1hdGNoKC9cImhlYWRlclRpdGxlXCJcXHMqOlxccypcIihbXlwiXSspXCIvKTtcclxuICAgIGlmIChlbmdhZ2VtZW50VGl0bGU/LlsxXSkge1xyXG4gICAgICBjb25zdCB0ID0gZGVjb2RlVW5pY29kZShlbmdhZ2VtZW50VGl0bGVbMV0pO1xyXG4gICAgICBpZiAoaXNWYWxpZFRpdGxlKHQpKSByZXR1cm4gdDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gXCJcIjtcclxuICB9IGNhdGNoIHtcclxuICAgIHJldHVybiBcIlwiO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hMYXRlc3RWaWRlbygpOiBQcm9taXNlPFlvdVR1YmVWaWRlbyB8IG51bGw+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7Q0hBTk5FTF9VUkx9L3ZpZGVvc2AsIHtcclxuICAgICAgaGVhZGVyczogQ09NTU9OX0hFQURFUlMsXHJcbiAgICAgIGNhY2hlOiBcIm5vLXN0b3JlXCIsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZXMudGV4dCgpO1xyXG4gICAgY29uc3QgdmlkZW9JZCA9IGV4dHJhY3RMYXRlc3RWaWRlb0lkKGh0bWwpO1xyXG4gICAgaWYgKCF2aWRlb0lkKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICBjb25zdCB0aXRsZSA9IGV4dHJhY3RUaXRsZShodG1sLCB2aWRlb0lkKTtcclxuICAgIGNvbnN0IHRodW1ibmFpbCA9IGBodHRwczovL2kueXRpbWcuY29tL3ZpLyR7dmlkZW9JZH0vbWF4cmVzZGVmYXVsdC5qcGdgO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlkOiB2aWRlb0lkLFxyXG4gICAgICB0aXRsZTogdGl0bGUgfHwgXCJIQURFUyDsmIHsg4FcIixcclxuICAgICAgdGh1bWJuYWlsLFxyXG4gICAgICB1cmw6IGBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PSR7dmlkZW9JZH1gLFxyXG4gICAgICB0eXBlOiBcInZpZGVvXCIsXHJcbiAgICAgIHB1Ymxpc2hlZEF0OiBudWxsLFxyXG4gICAgfTtcclxuICB9IGNhdGNoIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hMYXRlc3RTaG9ydCgpOiBQcm9taXNlPFlvdVR1YmVWaWRlbyB8IG51bGw+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7Q0hBTk5FTF9VUkx9L3Nob3J0c2AsIHtcclxuICAgICAgaGVhZGVyczogQ09NTU9OX0hFQURFUlMsXHJcbiAgICAgIGNhY2hlOiBcIm5vLXN0b3JlXCIsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZXMudGV4dCgpO1xyXG4gICAgY29uc3Qgc2hvcnRzSWQgPSBleHRyYWN0U2hvcnRzSWQoaHRtbCk7XHJcbiAgICBpZiAoIXNob3J0c0lkKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAvLyAx7LCoOiDssYTrhJAgc2hvcnRzIO2DrSBIVE1M7JeQ7IScIFNob3J0cyDsoITsmqkg7LaU7LacXHJcbiAgICBsZXQgdGl0bGUgPSBleHRyYWN0U2hvcnRzVGl0bGUoaHRtbCwgc2hvcnRzSWQpO1xyXG5cclxuICAgIC8vIDLssKg6IOyLpO2MqCDsi5wg6rCc67OEIFNob3J0cyDtjpjsnbTsp4Dsl5DshJwg7KeB7KCRIOqwgOyguOyYpOq4sFxyXG4gICAgaWYgKCF0aXRsZSkge1xyXG4gICAgICB0aXRsZSA9IGF3YWl0IGZldGNoU2hvcnRzVGl0bGVEaXJlY3Qoc2hvcnRzSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRodW1ibmFpbCA9IGBodHRwczovL2kueXRpbWcuY29tL3ZpLyR7c2hvcnRzSWR9L21heHJlc2RlZmF1bHQuanBnYDtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZDogc2hvcnRzSWQsXHJcbiAgICAgIHRpdGxlOiB0aXRsZSB8fCBcIkhBREVTIFNob3J0c1wiLFxyXG4gICAgICB0aHVtYm5haWwsXHJcbiAgICAgIHVybDogYGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3Nob3J0cy8ke3Nob3J0c0lkfWAsXHJcbiAgICAgIHR5cGU6IFwic2hvcnRzXCIsXHJcbiAgICAgIHB1Ymxpc2hlZEF0OiBudWxsLFxyXG4gICAgfTtcclxuICB9IGNhdGNoIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcclxuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG4gIGlmIChjYWNoZWQgJiYgY2FjaGVkLmV4cGlyZXNBdCA+IG5vdykge1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGNhY2hlZC5kYXRhKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBbdmlkZW8sIHNob3J0XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgZmV0Y2hMYXRlc3RWaWRlbygpLFxyXG4gICAgICBmZXRjaExhdGVzdFNob3J0KCksXHJcbiAgICBdKTtcclxuXHJcbiAgICBjb25zdCByZXN1bHRzID0gW3ZpZGVvLCBzaG9ydF0uZmlsdGVyKEJvb2xlYW4pIGFzIFlvdVR1YmVWaWRlb1tdO1xyXG5cclxuICAgIGNhY2hlZCA9IHtcclxuICAgICAgZGF0YTogcmVzdWx0cyxcclxuICAgICAgZXhwaXJlc0F0OiBub3cgKyAzMCAqIDYwICogMTAwMCxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJlc3VsdHMpO1xyXG4gIH0gY2F0Y2gge1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFtdKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIkNIQU5ORUxfVVJMIiwiQ09NTU9OX0hFQURFUlMiLCJjYWNoZWQiLCJleHRyYWN0VmlkZW9JZCIsInRleHQiLCJtYXRjaCIsImV4dHJhY3RMYXRlc3RWaWRlb0lkIiwicmVuZGVyZXJJZHMiLCJyZW5kZXJlclBhdHRlcm5zIiwicGF0dGVybiIsIm1hdGNoQWxsIiwiaWQiLCJwdXNoIiwibGVuZ3RoIiwiQXJyYXkiLCJmcm9tIiwiU2V0IiwiZXh0cmFjdFNob3J0c0lkIiwiY2FuZGlkYXRlcyIsImRlY29kZVVuaWNvZGUiLCJzdHIiLCJyZXBsYWNlIiwiXyIsImhleCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInBhcnNlSW50IiwiaXNWYWxpZFRpdGxlIiwidGl0bGUiLCJ0cmltIiwidCIsInRlc3QiLCJ1aVRleHRzIiwiaW5jbHVkZXMiLCJleHRyYWN0VGl0bGUiLCJodG1sIiwidmlkZW9JZCIsImlkeCIsImluZGV4T2YiLCJjaHVuayIsInN1YnN0cmluZyIsIk1hdGgiLCJtaW4iLCJydW5zTWF0Y2giLCJzaW1wbGVNYXRjaCIsImJlZm9yZUNodW5rIiwibWF4IiwiYmVmb3JlUnVucyIsImJlZm9yZVNpbXBsZSIsIlJlZ0V4cCIsImFjY2Vzc1BhdHRlcm5zIiwibGFiZWwiLCJieUluZGV4IiwibGFzdEluZGV4T2YiLCJvZ1RpdGxlIiwidGl0bGVUYWciLCJleHRyYWN0U2hvcnRzVGl0bGUiLCJzaG9ydHNJZCIsInNlYXJjaFBhdHRlcm5zIiwic2VhcmNoU3RyIiwic2VhcmNoSWR4IiwicGxhaW5TdHIiLCJpZElkeCIsInN0YXJ0IiwiZW5kIiwiaGVhZGxpbmVTaW1wbGUiLCJoZWFkbGluZVJ1bnMiLCJvdmVybGF5UHJpbWFyeSIsInRpdGxlUnVucyIsInRpdGxlU2ltcGxlIiwiZGFzaElkeCIsImZldGNoU2hvcnRzVGl0bGVEaXJlY3QiLCJyZXMiLCJmZXRjaCIsImhlYWRlcnMiLCJjYWNoZSIsImpzb25UaXRsZSIsImpzb25TaW1wbGUiLCJoZWFkbGluZSIsImVuZ2FnZW1lbnRUaXRsZSIsImZldGNoTGF0ZXN0VmlkZW8iLCJ0aHVtYm5haWwiLCJ1cmwiLCJ0eXBlIiwicHVibGlzaGVkQXQiLCJmZXRjaExhdGVzdFNob3J0IiwiR0VUIiwibm93IiwiRGF0ZSIsImV4cGlyZXNBdCIsImpzb24iLCJkYXRhIiwidmlkZW8iLCJzaG9ydCIsIlByb21pc2UiLCJhbGwiLCJyZXN1bHRzIiwiZmlsdGVyIiwiQm9vbGVhbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/youtube/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fyoutube%2Froute&page=%2Fapi%2Fyoutube%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fyoutube%2Froute.ts&appDir=C%3A%5Chades-fanapp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Chades-fanapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();