"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/votes/route";
exports.ids = ["app/api/votes/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvotes%2Froute&page=%2Fapi%2Fvotes%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvotes%2Froute.ts&appDir=C%3A%5CUsers%5Cpyosh%5COneDrive%5CDocuments%5Chades-fanapp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cpyosh%5COneDrive%5CDocuments%5Chades-fanapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvotes%2Froute&page=%2Fapi%2Fvotes%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvotes%2Froute.ts&appDir=C%3A%5CUsers%5Cpyosh%5COneDrive%5CDocuments%5Chades-fanapp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cpyosh%5COneDrive%5CDocuments%5Chades-fanapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_pyosh_OneDrive_Documents_hades_fanapp_app_api_votes_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/votes/route.ts */ \"(rsc)/./app/api/votes/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/votes/route\",\n        pathname: \"/api/votes\",\n        filename: \"route\",\n        bundlePath: \"app/api/votes/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\pyosh\\\\OneDrive\\\\Documents\\\\hades-fanapp\\\\app\\\\api\\\\votes\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_pyosh_OneDrive_Documents_hades_fanapp_app_api_votes_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/votes/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ2b3RlcyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdm90ZXMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZ2b3RlcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNweW9zaCU1Q09uZURyaXZlJTVDRG9jdW1lbnRzJTVDaGFkZXMtZmFuYXBwJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNweW9zaCU1Q09uZURyaXZlJTVDRG9jdW1lbnRzJTVDaGFkZXMtZmFuYXBwJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUM4QjtBQUMzRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2hhZGVzLWZhbmFwcC8/ZjNhYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxweW9zaFxcXFxPbmVEcml2ZVxcXFxEb2N1bWVudHNcXFxcaGFkZXMtZmFuYXBwXFxcXGFwcFxcXFxhcGlcXFxcdm90ZXNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3ZvdGVzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdm90ZXNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3ZvdGVzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxccHlvc2hcXFxcT25lRHJpdmVcXFxcRG9jdW1lbnRzXFxcXGhhZGVzLWZhbmFwcFxcXFxhcHBcXFxcYXBpXFxcXHZvdGVzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS92b3Rlcy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvotes%2Froute&page=%2Fapi%2Fvotes%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvotes%2Froute.ts&appDir=C%3A%5CUsers%5Cpyosh%5COneDrive%5CDocuments%5Chades-fanapp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cpyosh%5COneDrive%5CDocuments%5Chades-fanapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/votes/route.ts":
/*!********************************!*\
  !*** ./app/api/votes/route.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\nconst FALLBACK_CSV_URL = \"https://docs.google.com/spreadsheets/d/e/2PACX-1vRPX-EvmCuv7Dk_ozK2PhR0VmxW94s3-bZkY5Kou8FMXBR7f4indzBJ5GayAwv_VurZa0Dsp7SsrnBL/pub?gid=0&single=true&output=csv\";\nconst PLATFORM_LABELS = {\n    idolchamp: \"아이돌챔프\",\n    mubeat: \"뮤빗\",\n    upick: \"유픽\",\n    fancast: \"팬캐스트\",\n    fanplus: \"팬플러스\",\n    podoal: \"포도알\",\n    whosfan: \"후즈팬\",\n    duckad: \"덕애드\",\n    \"10asia\": \"텐아시아\",\n    muniverse: \"뮤니버스\",\n    my1pick: \"마이원픽\",\n    mnetplus: \"엠넷플러스\",\n    fannstar: \"팬앤스타\",\n    higher: \"하이어\"\n};\nconst CACHE_TTL_MS = 5 * 60000;\nconst REQUEST_TIMEOUT_MS = 4500;\nconst KST_SUFFIX = \"+09:00\";\nlet memoryCache = null;\nlet inFlightRequest = null;\nfunction normalizeBoolean(value) {\n    const normalized = value.trim().toLowerCase();\n    return normalized === \"true\" || normalized === \"1\" || normalized === \"yes\";\n}\nfunction normalizePlatform(platform) {\n    return platform.trim().toLowerCase();\n}\nfunction parsePlatforms(platformsRaw) {\n    const normalized = platformsRaw.replace(/[|,/]/g, \" \").replace(/\\s+/g, \" \").trim();\n    const unique = new Set();\n    normalized.split(\" \").map((value)=>normalizePlatform(value)).filter(Boolean).forEach((platform)=>unique.add(platform));\n    if (unique.size === 0) {\n        return [\n            \"etc\"\n        ];\n    }\n    return Array.from(unique);\n}\nfunction labelForPlatform(platform) {\n    const key = normalizePlatform(platform);\n    return PLATFORM_LABELS[key] ?? \"기타\";\n}\nfunction isInProgressKeyword(value) {\n    const normalized = value.replace(/\\s+/g, \"\").toLowerCase();\n    return normalized === \"진행중\";\n}\nfunction parseDateKst(rawValue) {\n    if (!rawValue) return null;\n    const value = rawValue.trim();\n    if (!value || isInProgressKeyword(value)) return null;\n    const direct = new Date(value);\n    if (!Number.isNaN(direct.getTime())) {\n        return direct;\n    }\n    const normalized = value.replace(/\\./g, \"-\").replace(/\\//g, \"-\").replace(/\\s+/g, \" \").trim();\n    const withSeconds = /\\d{2}:\\d{2}:\\d{2}$/.test(normalized) ? normalized : /\\d{2}:\\d{2}$/.test(normalized) ? `${normalized}:00` : `${normalized} 00:00:00`;\n    const isoLike = withSeconds.replace(\" \", \"T\");\n    const kstDate = new Date(`${isoLike}${KST_SUFFIX}`);\n    if (!Number.isNaN(kstDate.getTime())) {\n        return kstDate;\n    }\n    return null;\n}\nfunction isExpired(closesAt) {\n    const date = parseDateKst(closesAt);\n    if (!date) return false;\n    return date.getTime() <= Date.now();\n}\nfunction createStableId(row) {\n    const raw = `${normalizePlatform(row.platform)}|${row.title.trim()}|${row.closesAt.trim()}`;\n    let hash = 0;\n    for(let i = 0; i < raw.length; i += 1){\n        hash = hash * 31 + raw.charCodeAt(i) >>> 0;\n    }\n    return `vote-${hash.toString(36)}`;\n}\nfunction parseCsvLine(line) {\n    const values = [];\n    let current = \"\";\n    let inQuotes = false;\n    for(let i = 0; i < line.length; i += 1){\n        const char = line[i];\n        const nextChar = line[i + 1];\n        if (char === '\"') {\n            if (inQuotes && nextChar === '\"') {\n                current += '\"';\n                i += 1;\n            } else {\n                inQuotes = !inQuotes;\n            }\n            continue;\n        }\n        if (char === \",\" && !inQuotes) {\n            values.push(current.trim());\n            current = \"\";\n            continue;\n        }\n        current += char;\n    }\n    values.push(current.trim());\n    return values;\n}\nfunction parseCsv(content) {\n    const lines = content.split(/\\r?\\n/).map((line)=>line.trim()).filter((line)=>line.length > 0);\n    if (lines.length <= 1) {\n        return [];\n    }\n    const [headerLine, ...rows] = lines;\n    const headers = parseCsvLine(headerLine);\n    return rows.map((line)=>{\n        const values = parseCsvLine(line);\n        const record = {};\n        headers.forEach((header, index)=>{\n            record[header] = values[index] ?? \"\";\n        });\n        return record;\n    });\n}\nasync function fetchVotesCsv(csvUrl) {\n    const controller = new AbortController();\n    const timeout = setTimeout(()=>controller.abort(), REQUEST_TIMEOUT_MS);\n    try {\n        const response = await fetch(csvUrl, {\n            next: {\n                revalidate: 60\n            },\n            headers: {\n                Accept: \"text/csv,*/*;q=0.9\"\n            },\n            signal: controller.signal\n        });\n        if (!response.ok) {\n            throw new Error(`Failed to fetch votes csv: ${response.status}`);\n        }\n        return response.text();\n    } finally{\n        clearTimeout(timeout);\n    }\n}\nasync function loadVotesFromSheet() {\n    const now = Date.now();\n    if (memoryCache && memoryCache.expiresAt > now) {\n        return memoryCache.data;\n    }\n    if (inFlightRequest) {\n        return inFlightRequest;\n    }\n    inFlightRequest = (async ()=>{\n        const csvUrl = process.env.VOTES_SHEET_CSV_URL ?? FALLBACK_CSV_URL;\n        const csv = await fetchVotesCsv(csvUrl);\n        const parsedRows = parseCsv(csv);\n        const filteredVotes = parsedRows.filter((row)=>normalizeBoolean(row.enabled ?? \"\")).filter((row)=>!isExpired(row.closesAt ?? \"\")).map((row)=>{\n            const platforms = parsePlatforms(row.platform ?? \"\");\n            const rawOpensAt = row.opensAt?.trim() ?? \"\";\n            const openDate = parseDateKst(rawOpensAt);\n            const closeDate = parseDateKst(row.closesAt ?? \"\");\n            return {\n                id: createStableId(row),\n                title: row.title?.trim() ?? \"\",\n                platform: platforms[0],\n                platformLabel: labelForPlatform(platforms[0]),\n                platforms,\n                platformLabels: platforms.map(labelForPlatform),\n                url: row.url?.trim() ?? \"\",\n                opensAt: isInProgressKeyword(rawOpensAt) ? \"진행중\" : openDate ? openDate.toISOString() : undefined,\n                closesAt: closeDate ? closeDate.toISOString() : undefined,\n                note: row.note?.trim() || undefined\n            };\n        }).filter((vote)=>vote.title && vote.url);\n        memoryCache = {\n            expiresAt: Date.now() + CACHE_TTL_MS,\n            data: filteredVotes\n        };\n        return filteredVotes;\n    })();\n    try {\n        return await inFlightRequest;\n    } catch (error) {\n        if (memoryCache?.data?.length) {\n            return memoryCache.data;\n        }\n        throw error;\n    } finally{\n        inFlightRequest = null;\n    }\n}\nasync function GET() {\n    try {\n        const votes = await loadVotesFromSheet();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(votes, {\n            headers: {\n                \"Cache-Control\": \"public, s-maxage=60, stale-while-revalidate=300\"\n            }\n        });\n    } catch  {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json([], {\n            status: 200\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUkrRCxLQUFLSixHQUFHO1FBRTFDdkcsY0FBYztZQUNac0YsV0FBV3pELEtBQUtXLEdBQUcsS0FBSzNDO1lBQ3hCMEYsTUFBTU07UUFDUjtRQUVBLE9BQU9BO0lBQ1Q7SUFFQSxJQUFJO1FBQ0YsT0FBTyxNQUFNNUY7SUFDZixFQUFFLE9BQU8yRyxPQUFPO1FBQ2QsSUFBSTVHLGFBQWF1RixNQUFNeEMsUUFBUTtZQUM3QixPQUFPL0MsWUFBWXVGLElBQUk7UUFDekI7UUFDQSxNQUFNcUI7SUFDUixTQUFVO1FBQ1IzRyxrQkFBa0I7SUFDcEI7QUFDRjtBQUVPLGVBQWU0RztJQUNwQixJQUFJO1FBQ0YsTUFBTUMsUUFBUSxNQUFNekI7UUFDcEIsT0FBT3hHLHFEQUFZQSxDQUFDa0ksSUFBSSxDQUFDRCxPQUFPO1lBQzlCL0MsU0FBUztnQkFDUCxpQkFBaUI7WUFDbkI7UUFDRjtJQUNGLEVBQUUsT0FBTTtRQUNOLE9BQU9sRixxREFBWUEsQ0FBQ2tJLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFBRTdCLFFBQVE7UUFBSTtJQUM3QztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFkZXMtZmFuYXBwLy4vYXBwL2FwaS92b3Rlcy9yb3V0ZS50cz83NTA0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xyXG5cclxudHlwZSBWb3RlUGxhdGZvcm0gPVxyXG4gIHwgXCJpZG9sY2hhbXBcIlxyXG4gIHwgXCJtdWJlYXRcIlxyXG4gIHwgXCJ1cGlja1wiXHJcbiAgfCBcImZhbmNhc3RcIlxyXG4gIHwgXCJmYW5wbHVzXCJcclxuICB8IFwicG9kb2FsXCJcclxuICB8IFwid2hvc2ZhblwiXHJcbiAgfCBcImR1Y2thZFwiXHJcbiAgfCBcIjEwYXNpYVwiXHJcbiAgfCBcIm11bml2ZXJzZVwiXHJcbiAgfCBcIm15MXBpY2tcIlxyXG4gIHwgXCJtbmV0cGx1c1wiXHJcbiAgfCBcImZhbm5zdGFyXCJcclxuICB8IFwiaGlnaGVyXCI7XHJcblxyXG50eXBlIFZvdGVSb3cgPSB7XHJcbiAgZW5hYmxlZDogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgcGxhdGZvcm06IHN0cmluZztcclxuICB1cmw6IHN0cmluZztcclxuICBvcGVuc0F0OiBzdHJpbmc7XHJcbiAgY2xvc2VzQXQ6IHN0cmluZztcclxuICBub3RlOiBzdHJpbmc7XHJcbn07XHJcblxyXG50eXBlIFZvdGVJdGVtID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBwbGF0Zm9ybTogc3RyaW5nO1xyXG4gIHBsYXRmb3JtTGFiZWw6IHN0cmluZztcclxuICBwbGF0Zm9ybXM6IHN0cmluZ1tdO1xyXG4gIHBsYXRmb3JtTGFiZWxzOiBzdHJpbmdbXTtcclxuICB1cmw6IHN0cmluZztcclxuICBvcGVuc0F0Pzogc3RyaW5nO1xyXG4gIGNsb3Nlc0F0Pzogc3RyaW5nO1xyXG4gIG5vdGU/OiBzdHJpbmc7XHJcbn07XHJcblxyXG5jb25zdCBGQUxMQkFDS19DU1ZfVVJMID1cclxuICBcImh0dHBzOi8vZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy9kL2UvMlBBQ1gtMXZSUFgtRXZtQ3V2N0RrX296SzJQaFIwVm14Vzk0czMtYlprWTVLb3U4Rk1YQlI3ZjRpbmR6Qko1R2F5QXd2X1Z1clphMERzcDdTc3JuQkwvcHViP2dpZD0wJnNpbmdsZT10cnVlJm91dHB1dD1jc3ZcIjtcclxuXHJcbmNvbnN0IFBMQVRGT1JNX0xBQkVMUzogUmVjb3JkPFZvdGVQbGF0Zm9ybSwgc3RyaW5nPiA9IHtcclxuICBpZG9sY2hhbXA6IFwi7JWE7J2064+M7LGU7ZSEXCIsXHJcbiAgbXViZWF0OiBcIuuupOu5l1wiLFxyXG4gIHVwaWNrOiBcIuycoO2UvVwiLFxyXG4gIGZhbmNhc3Q6IFwi7Yys7LqQ7Iqk7Yq4XCIsXHJcbiAgZmFucGx1czogXCLtjKztlIzrn6zsiqRcIixcclxuICBwb2RvYWw6IFwi7Y+s64+E7JWMXCIsXHJcbiAgd2hvc2ZhbjogXCLtm4TspojtjKxcIixcclxuICBkdWNrYWQ6IFwi642V7JWg65OcXCIsXHJcbiAgXCIxMGFzaWFcIjogXCLthZDslYTsi5zslYRcIixcclxuICBtdW5pdmVyc2U6IFwi666k64uI67KE7IqkXCIsXHJcbiAgbXkxcGljazogXCLrp4jsnbTsm5DtlL1cIixcclxuICBtbmV0cGx1czogXCLsl6DrhLftlIzrn6zsiqRcIixcclxuICBmYW5uc3RhcjogXCLtjKzslaTsiqTtg4BcIixcclxuICBoaWdoZXI6IFwi7ZWY7J207Ja0XCIsXHJcbn07XHJcblxyXG5jb25zdCBDQUNIRV9UVExfTVMgPSA1ICogNjBfMDAwO1xyXG5jb25zdCBSRVFVRVNUX1RJTUVPVVRfTVMgPSA0XzUwMDtcclxuY29uc3QgS1NUX1NVRkZJWCA9IFwiKzA5OjAwXCI7XHJcblxyXG5sZXQgbWVtb3J5Q2FjaGU6XHJcbiAgfCB7XHJcbiAgICAgIGV4cGlyZXNBdDogbnVtYmVyO1xyXG4gICAgICBkYXRhOiBWb3RlSXRlbVtdO1xyXG4gICAgfVxyXG4gIHwgbnVsbCA9IG51bGw7XHJcblxyXG5sZXQgaW5GbGlnaHRSZXF1ZXN0OiBQcm9taXNlPFZvdGVJdGVtW10+IHwgbnVsbCA9IG51bGw7XHJcblxyXG5mdW5jdGlvbiBub3JtYWxpemVCb29sZWFuKHZhbHVlOiBzdHJpbmcpIHtcclxuICBjb25zdCBub3JtYWxpemVkID0gdmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCk7XHJcbiAgcmV0dXJuIG5vcm1hbGl6ZWQgPT09IFwidHJ1ZVwiIHx8IG5vcm1hbGl6ZWQgPT09IFwiMVwiIHx8IG5vcm1hbGl6ZWQgPT09IFwieWVzXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVBsYXRmb3JtKHBsYXRmb3JtOiBzdHJpbmcpIHtcclxuICByZXR1cm4gcGxhdGZvcm0udHJpbSgpLnRvTG93ZXJDYXNlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlUGxhdGZvcm1zKHBsYXRmb3Jtc1Jhdzogc3RyaW5nKSB7XHJcbiAgY29uc3Qgbm9ybWFsaXplZCA9IHBsYXRmb3Jtc1Jhd1xyXG4gICAgLnJlcGxhY2UoL1t8LC9dL2csIFwiIFwiKVxyXG4gICAgLnJlcGxhY2UoL1xccysvZywgXCIgXCIpXHJcbiAgICAudHJpbSgpO1xyXG5cclxuICBjb25zdCB1bmlxdWUgPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuICBub3JtYWxpemVkXHJcbiAgICAuc3BsaXQoXCIgXCIpXHJcbiAgICAubWFwKCh2YWx1ZSkgPT4gbm9ybWFsaXplUGxhdGZvcm0odmFsdWUpKVxyXG4gICAgLmZpbHRlcihCb29sZWFuKVxyXG4gICAgLmZvckVhY2goKHBsYXRmb3JtKSA9PiB1bmlxdWUuYWRkKHBsYXRmb3JtKSk7XHJcblxyXG4gIGlmICh1bmlxdWUuc2l6ZSA9PT0gMCkge1xyXG4gICAgcmV0dXJuIFtcImV0Y1wiXTtcclxuICB9XHJcblxyXG4gIHJldHVybiBBcnJheS5mcm9tKHVuaXF1ZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxhYmVsRm9yUGxhdGZvcm0ocGxhdGZvcm06IHN0cmluZykge1xyXG4gIGNvbnN0IGtleSA9IG5vcm1hbGl6ZVBsYXRmb3JtKHBsYXRmb3JtKSBhcyBWb3RlUGxhdGZvcm07XHJcbiAgcmV0dXJuIFBMQVRGT1JNX0xBQkVMU1trZXldID8/IFwi6riw7YOAXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzSW5Qcm9ncmVzc0tleXdvcmQodmFsdWU6IHN0cmluZykge1xyXG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSB2YWx1ZS5yZXBsYWNlKC9cXHMrL2csIFwiXCIpLnRvTG93ZXJDYXNlKCk7XHJcbiAgcmV0dXJuIG5vcm1hbGl6ZWQgPT09IFwi7KeE7ZaJ7KSRXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlRGF0ZUtzdChyYXdWYWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XHJcbiAgaWYgKCFyYXdWYWx1ZSkgcmV0dXJuIG51bGw7XHJcbiAgY29uc3QgdmFsdWUgPSByYXdWYWx1ZS50cmltKCk7XHJcbiAgaWYgKCF2YWx1ZSB8fCBpc0luUHJvZ3Jlc3NLZXl3b3JkKHZhbHVlKSkgcmV0dXJuIG51bGw7XHJcblxyXG4gIGNvbnN0IGRpcmVjdCA9IG5ldyBEYXRlKHZhbHVlKTtcclxuICBpZiAoIU51bWJlci5pc05hTihkaXJlY3QuZ2V0VGltZSgpKSkge1xyXG4gICAgcmV0dXJuIGRpcmVjdDtcclxuICB9XHJcblxyXG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSB2YWx1ZVxyXG4gICAgLnJlcGxhY2UoL1xcLi9nLCBcIi1cIilcclxuICAgIC5yZXBsYWNlKC9cXC8vZywgXCItXCIpXHJcbiAgICAucmVwbGFjZSgvXFxzKy9nLCBcIiBcIilcclxuICAgIC50cmltKCk7XHJcblxyXG4gIGNvbnN0IHdpdGhTZWNvbmRzID0gL1xcZHsyfTpcXGR7Mn06XFxkezJ9JC8udGVzdChub3JtYWxpemVkKVxyXG4gICAgPyBub3JtYWxpemVkXHJcbiAgICA6IC9cXGR7Mn06XFxkezJ9JC8udGVzdChub3JtYWxpemVkKVxyXG4gICAgICA/IGAke25vcm1hbGl6ZWR9OjAwYFxyXG4gICAgICA6IGAke25vcm1hbGl6ZWR9IDAwOjAwOjAwYDtcclxuXHJcbiAgY29uc3QgaXNvTGlrZSA9IHdpdGhTZWNvbmRzLnJlcGxhY2UoXCIgXCIsIFwiVFwiKTtcclxuICBjb25zdCBrc3REYXRlID0gbmV3IERhdGUoYCR7aXNvTGlrZX0ke0tTVF9TVUZGSVh9YCk7XHJcbiAgaWYgKCFOdW1iZXIuaXNOYU4oa3N0RGF0ZS5nZXRUaW1lKCkpKSB7XHJcbiAgICByZXR1cm4ga3N0RGF0ZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0V4cGlyZWQoY2xvc2VzQXQ6IHN0cmluZykge1xyXG4gIGNvbnN0IGRhdGUgPSBwYXJzZURhdGVLc3QoY2xvc2VzQXQpO1xyXG4gIGlmICghZGF0ZSkgcmV0dXJuIGZhbHNlO1xyXG4gIHJldHVybiBkYXRlLmdldFRpbWUoKSA8PSBEYXRlLm5vdygpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTdGFibGVJZChyb3c6IFZvdGVSb3cpIHtcclxuICBjb25zdCByYXcgPSBgJHtub3JtYWxpemVQbGF0Zm9ybShyb3cucGxhdGZvcm0pfXwke3Jvdy50aXRsZS50cmltKCl9fCR7cm93LmNsb3Nlc0F0LnRyaW0oKX1gO1xyXG4gIGxldCBoYXNoID0gMDtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdy5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgaGFzaCA9IChoYXNoICogMzEgKyByYXcuY2hhckNvZGVBdChpKSkgPj4+IDA7XHJcbiAgfVxyXG4gIHJldHVybiBgdm90ZS0ke2hhc2gudG9TdHJpbmcoMzYpfWA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlQ3N2TGluZShsaW5lOiBzdHJpbmcpIHtcclxuICBjb25zdCB2YWx1ZXM6IHN0cmluZ1tdID0gW107XHJcbiAgbGV0IGN1cnJlbnQgPSBcIlwiO1xyXG4gIGxldCBpblF1b3RlcyA9IGZhbHNlO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmUubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgIGNvbnN0IGNoYXIgPSBsaW5lW2ldO1xyXG4gICAgY29uc3QgbmV4dENoYXIgPSBsaW5lW2kgKyAxXTtcclxuXHJcbiAgICBpZiAoY2hhciA9PT0gJ1wiJykge1xyXG4gICAgICBpZiAoaW5RdW90ZXMgJiYgbmV4dENoYXIgPT09ICdcIicpIHtcclxuICAgICAgICBjdXJyZW50ICs9ICdcIic7XHJcbiAgICAgICAgaSArPSAxO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGluUXVvdGVzID0gIWluUXVvdGVzO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGFyID09PSBcIixcIiAmJiAhaW5RdW90ZXMpIHtcclxuICAgICAgdmFsdWVzLnB1c2goY3VycmVudC50cmltKCkpO1xyXG4gICAgICBjdXJyZW50ID0gXCJcIjtcclxuICAgICAgY29udGludWU7XHJcbiAgICB9XHJcblxyXG4gICAgY3VycmVudCArPSBjaGFyO1xyXG4gIH1cclxuXHJcbiAgdmFsdWVzLnB1c2goY3VycmVudC50cmltKCkpO1xyXG4gIHJldHVybiB2YWx1ZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlQ3N2KGNvbnRlbnQ6IHN0cmluZykge1xyXG4gIGNvbnN0IGxpbmVzID0gY29udGVudFxyXG4gICAgLnNwbGl0KC9cXHI/XFxuLylcclxuICAgIC5tYXAoKGxpbmUpID0+IGxpbmUudHJpbSgpKVxyXG4gICAgLmZpbHRlcigobGluZSkgPT4gbGluZS5sZW5ndGggPiAwKTtcclxuXHJcbiAgaWYgKGxpbmVzLmxlbmd0aCA8PSAxKSB7XHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG5cclxuICBjb25zdCBbaGVhZGVyTGluZSwgLi4ucm93c10gPSBsaW5lcztcclxuICBjb25zdCBoZWFkZXJzID0gcGFyc2VDc3ZMaW5lKGhlYWRlckxpbmUpO1xyXG5cclxuICByZXR1cm4gcm93cy5tYXAoKGxpbmUpID0+IHtcclxuICAgIGNvbnN0IHZhbHVlcyA9IHBhcnNlQ3N2TGluZShsaW5lKTtcclxuICAgIGNvbnN0IHJlY29yZDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xyXG5cclxuICAgIGhlYWRlcnMuZm9yRWFjaCgoaGVhZGVyLCBpbmRleCkgPT4ge1xyXG4gICAgICByZWNvcmRbaGVhZGVyXSA9IHZhbHVlc1tpbmRleF0gPz8gXCJcIjtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiByZWNvcmQgYXMgVm90ZVJvdztcclxuICB9KTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hWb3Rlc0Nzdihjc3ZVcmw6IHN0cmluZykge1xyXG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XHJcbiAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCBSRVFVRVNUX1RJTUVPVVRfTVMpO1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjc3ZVcmwsIHtcclxuICAgICAgbmV4dDogeyByZXZhbGlkYXRlOiA2MCB9LFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgQWNjZXB0OiBcInRleHQvY3N2LCovKjtxPTAuOVwiLFxyXG4gICAgICB9LFxyXG4gICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCB2b3RlcyBjc3Y6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XHJcbiAgfSBmaW5hbGx5IHtcclxuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGxvYWRWb3Rlc0Zyb21TaGVldCgpIHtcclxuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG5cclxuICBpZiAobWVtb3J5Q2FjaGUgJiYgbWVtb3J5Q2FjaGUuZXhwaXJlc0F0ID4gbm93KSB7XHJcbiAgICByZXR1cm4gbWVtb3J5Q2FjaGUuZGF0YTtcclxuICB9XHJcblxyXG4gIGlmIChpbkZsaWdodFJlcXVlc3QpIHtcclxuICAgIHJldHVybiBpbkZsaWdodFJlcXVlc3Q7XHJcbiAgfVxyXG5cclxuICBpbkZsaWdodFJlcXVlc3QgPSAoYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgY3N2VXJsID0gcHJvY2Vzcy5lbnYuVk9URVNfU0hFRVRfQ1NWX1VSTCA/PyBGQUxMQkFDS19DU1ZfVVJMO1xyXG4gICAgY29uc3QgY3N2ID0gYXdhaXQgZmV0Y2hWb3Rlc0Nzdihjc3ZVcmwpO1xyXG4gICAgY29uc3QgcGFyc2VkUm93cyA9IHBhcnNlQ3N2KGNzdik7XHJcblxyXG4gICAgY29uc3QgZmlsdGVyZWRWb3RlcyA9IHBhcnNlZFJvd3NcclxuICAgICAgLmZpbHRlcigocm93KSA9PiBub3JtYWxpemVCb29sZWFuKHJvdy5lbmFibGVkID8/IFwiXCIpKVxyXG4gICAgICAuZmlsdGVyKChyb3cpID0+ICFpc0V4cGlyZWQocm93LmNsb3Nlc0F0ID8/IFwiXCIpKVxyXG4gICAgICAubWFwKChyb3cpID0+IHtcclxuICAgICAgICBjb25zdCBwbGF0Zm9ybXMgPSBwYXJzZVBsYXRmb3Jtcyhyb3cucGxhdGZvcm0gPz8gXCJcIik7XHJcbiAgICAgICAgY29uc3QgcmF3T3BlbnNBdCA9IHJvdy5vcGVuc0F0Py50cmltKCkgPz8gXCJcIjtcclxuICAgICAgICBjb25zdCBvcGVuRGF0ZSA9IHBhcnNlRGF0ZUtzdChyYXdPcGVuc0F0KTtcclxuICAgICAgICBjb25zdCBjbG9zZURhdGUgPSBwYXJzZURhdGVLc3Qocm93LmNsb3Nlc0F0ID8/IFwiXCIpO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgaWQ6IGNyZWF0ZVN0YWJsZUlkKHJvdyksXHJcbiAgICAgICAgICB0aXRsZTogcm93LnRpdGxlPy50cmltKCkgPz8gXCJcIixcclxuICAgICAgICAgIHBsYXRmb3JtOiBwbGF0Zm9ybXNbMF0sXHJcbiAgICAgICAgICBwbGF0Zm9ybUxhYmVsOiBsYWJlbEZvclBsYXRmb3JtKHBsYXRmb3Jtc1swXSksXHJcbiAgICAgICAgICBwbGF0Zm9ybXMsXHJcbiAgICAgICAgICBwbGF0Zm9ybUxhYmVsczogcGxhdGZvcm1zLm1hcChsYWJlbEZvclBsYXRmb3JtKSxcclxuICAgICAgICAgIHVybDogcm93LnVybD8udHJpbSgpID8/IFwiXCIsXHJcbiAgICAgICAgICBvcGVuc0F0OiBpc0luUHJvZ3Jlc3NLZXl3b3JkKHJhd09wZW5zQXQpID8gXCLsp4TtlonspJFcIiA6IG9wZW5EYXRlID8gb3BlbkRhdGUudG9JU09TdHJpbmcoKSA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgIGNsb3Nlc0F0OiBjbG9zZURhdGUgPyBjbG9zZURhdGUudG9JU09TdHJpbmcoKSA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgIG5vdGU6IHJvdy5ub3RlPy50cmltKCkgfHwgdW5kZWZpbmVkLFxyXG4gICAgICAgIH0gYXMgVm90ZUl0ZW07XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maWx0ZXIoKHZvdGUpID0+IHZvdGUudGl0bGUgJiYgdm90ZS51cmwpO1xyXG5cclxuICAgIG1lbW9yeUNhY2hlID0ge1xyXG4gICAgICBleHBpcmVzQXQ6IERhdGUubm93KCkgKyBDQUNIRV9UVExfTVMsXHJcbiAgICAgIGRhdGE6IGZpbHRlcmVkVm90ZXMsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBmaWx0ZXJlZFZvdGVzO1xyXG4gIH0pKCk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gYXdhaXQgaW5GbGlnaHRSZXF1ZXN0O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBpZiAobWVtb3J5Q2FjaGU/LmRhdGE/Lmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gbWVtb3J5Q2FjaGUuZGF0YTtcclxuICAgIH1cclxuICAgIHRocm93IGVycm9yO1xyXG4gIH0gZmluYWxseSB7XHJcbiAgICBpbkZsaWdodFJlcXVlc3QgPSBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgdm90ZXMgPSBhd2FpdCBsb2FkVm90ZXNGcm9tU2hlZXQoKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih2b3Rlcywge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgXCJDYWNoZS1Db250cm9sXCI6IFwicHVibGljLCBzLW1heGFnZT02MCwgc3RhbGUtd2hpbGUtcmV2YWxpZGF0ZT0zMDBcIixcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2gge1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFtdLCB7IHN0YXR1czogMjAwIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiRkFMTEJBQ0tfQ1NWX1VSTCIsIlBMQVRGT1JNX0xBQkVMUyIsImlkb2xjaGFtcCIsIm11YmVhdCIsInVwaWNrIiwiZmFuY2FzdCIsImZhbnBsdXMiLCJwb2RvYWwiLCJ3aG9zZmFuIiwiZHVja2FkIiwibXVuaXZlcnNlIiwibXkxcGljayIsIm1uZXRwbHVzIiwiZmFubnN0YXIiLCJoaWdoZXIiLCJDQUNIRV9UVExfTVMiLCJSRVFVRVNUX1RJTUVPVVRfTVMiLCJLU1RfU1VGRklYIiwibWVtb3J5Q2FjaGUiLCJpbkZsaWdodFJlcXVlc3QiLCJub3JtYWxpemVCb29sZWFuIiwidmFsdWUiLCJub3JtYWxpemVkIiwidHJpbSIsInRvTG93ZXJDYXNlIiwibm9ybWFsaXplUGxhdGZvcm0iLCJwbGF0Zm9ybSIsInBhcnNlUGxhdGZvcm1zIiwicGxhdGZvcm1zUmF3IiwicmVwbGFjZSIsInVuaXF1ZSIsIlNldCIsInNwbGl0IiwibWFwIiwiZmlsdGVyIiwiQm9vbGVhbiIsImZvckVhY2giLCJhZGQiLCJzaXplIiwiQXJyYXkiLCJmcm9tIiwibGFiZWxGb3JQbGF0Zm9ybSIsImtleSIsImlzSW5Qcm9ncmVzc0tleXdvcmQiLCJwYXJzZURhdGVLc3QiLCJyYXdWYWx1ZSIsImRpcmVjdCIsIkRhdGUiLCJOdW1iZXIiLCJpc05hTiIsImdldFRpbWUiLCJ3aXRoU2Vjb25kcyIsInRlc3QiLCJpc29MaWtlIiwia3N0RGF0ZSIsImlzRXhwaXJlZCIsImNsb3Nlc0F0IiwiZGF0ZSIsIm5vdyIsImNyZWF0ZVN0YWJsZUlkIiwicm93IiwicmF3IiwidGl0bGUiLCJoYXNoIiwiaSIsImxlbmd0aCIsImNoYXJDb2RlQXQiLCJ0b1N0cmluZyIsInBhcnNlQ3N2TGluZSIsImxpbmUiLCJ2YWx1ZXMiLCJjdXJyZW50IiwiaW5RdW90ZXMiLCJjaGFyIiwibmV4dENoYXIiLCJwdXNoIiwicGFyc2VDc3YiLCJjb250ZW50IiwibGluZXMiLCJoZWFkZXJMaW5lIiwicm93cyIsImhlYWRlcnMiLCJyZWNvcmQiLCJoZWFkZXIiLCJpbmRleCIsImZldGNoVm90ZXNDc3YiLCJjc3ZVcmwiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJhYm9ydCIsInJlc3BvbnNlIiwiZmV0Y2giLCJuZXh0IiwicmV2YWxpZGF0ZSIsIkFjY2VwdCIsInNpZ25hbCIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJ0ZXh0IiwiY2xlYXJUaW1lb3V0IiwibG9hZFZvdGVzRnJvbVNoZWV0IiwiZXhwaXJlc0F0IiwiZGF0YSIsInByb2Nlc3MiLCJlbnYiLCJWT1RFU19TSEVFVF9DU1ZfVVJMIiwiY3N2IiwicGFyc2VkUm93cyIsImZpbHRlcmVkVm90ZXMiLCJlbmFibGVkIiwicGxhdGZvcm1zIiwicmF3T3BlbnNBdCIsIm9wZW5zQXQiLCJvcGVuRGF0ZSIsImNsb3NlRGF0ZSIsImlkIiwicGxhdGZvcm1MYWJlbCIsInBsYXRmb3JtTGFiZWxzIiwidXJsIiwidG9JU09TdHJpbmciLCJ1bmRlZmluZWQiLCJub3RlIiwidm90ZSIsImVycm9yIiwiR0VUIiwidm90ZXMiLCJqc29uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/votes/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvotes%2Froute&page=%2Fapi%2Fvotes%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvotes%2Froute.ts&appDir=C%3A%5CUsers%5Cpyosh%5COneDrive%5CDocuments%5Chades-fanapp%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cpyosh%5COneDrive%5CDocuments%5Chades-fanapp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();